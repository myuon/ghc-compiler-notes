
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Note [The Type-related module hierarchy] &#8212; ghc-compiler-notes  ドキュメント</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../../_static/translations.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="TyCoRep.hs-boot.html" />
    <link rel="prev" title="Note [Optimising coercion optimisation]" href="OptCoercion.hs.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="note-the-type-related-module-hierarchy">
<h1>Note [The Type-related module hierarchy]<a class="headerlink" href="#note-the-type-related-module-hierarchy" title="このヘッドラインへのパーマリンク">¶</a></h1>
<blockquote>
<div>Class
CoAxiom
TyCon    imports Class, CoAxiom
TyCoRep  imports Class, CoAxiom, TyCon
TysPrim  imports TyCoRep ( including mkTyConTy )
Kind     imports TysPrim ( mainly for primitive kinds )
Type     imports Kind
Coercion imports Type</div></blockquote>
<p>We expose the relevant stuff from this module via the Type module</p>
</div>
<div class="section" id="note-atycon-for-classes">
<h1>Note [ATyCon for classes]<a class="headerlink" href="#note-atycon-for-classes" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Both classes and type constructors are represented in the type environment
as ATyCon.  You can tell the difference, and get to the class, with</p>
<blockquote>
<div>isClassTyCon :: TyCon -&gt; Bool
tyConClass_maybe :: TyCon -&gt; Maybe Class</div></blockquote>
<p>The Class and its associated TyCon have the same Name.</p>
</div>
<div class="section" id="note-function-types">
<h1>Note [Function types]<a class="headerlink" href="#note-function-types" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>FFunTy is the constructor for a function type.  Lots of things to say
about it!</p>
<ul>
<li><p class="first">FFunTy is the data constructor, meaning &quot;full function type&quot;.</p>
</li>
<li><dl class="first docutils">
<dt>The function type constructor (-&gt;) has kind</dt>
<dd><p class="first last">(-&gt;) :: forall r1 r2. TYPE r1 -&gt; TYPE r2 -&gt; Type LiftedRep</p>
</dd>
<dt>mkTyConApp ensure that we convert a saturated application</dt>
<dd><p class="first last">TyConApp (-&gt;) [r1,r2,t1,t2] into FunTy t1 t2</p>
</dd>
</dl>
<p>dropping the 'r1' and 'r2' arguments; they are easily recovered
from 't1' and 't2'.</p>
</li>
<li><dl class="first docutils">
<dt>The ft_af field says whether or not this is an invisible argument</dt>
<dd><p class="first">VisArg:   t1 -&gt; t2    Ordinary function type
InvisArg: t1 =&gt; t2    t1 is guaranteed to be a predicate type,</p>
<blockquote class="last">
<div><p>i.e. t1 :: Constraint</p>
</div></blockquote>
</dd>
</dl>
<p>See Note [Types for coercions, predicates, and evidence]</p>
<p>This visibility info makes no difference in Core; it matters
only when we regard the type as a Haskell source type.</p>
</li>
<li><p class="first">FunTy is a (unidirectional) pattern synonym that allows
positional pattern matching (FunTy arg res), ignoring the
ArgFlag.</p>
</li>
</ul>
<blockquote>
<div>For now we use the CPP macro #define FunTy FFunTy _
(see HsVersions.h) to allow pattern matching on a
(positional) FunTy constructor.</div></blockquote>
<dl class="docutils">
<dt>{-# COMPLETE FunTy, TyVarTy, AppTy, TyConApp</dt>
<dd>, ForAllTy, LitTy, CastTy, CoercionTy :: Type #-}</dd>
</dl>
<p>-- | 'FunTy' is a (uni-directional) pattern synonym for the common
-- case where we want to match on the argument/result type, but
-- ignoring the AnonArgFlag
pattern FunTy :: Type -&gt; Type -&gt; Type
pattern FunTy arg res &lt;- FFunTy { ft_arg = arg, ft_res = res }</p>
<blockquote>
<div>End of commented out block</div></blockquote>
</div>
<hr class="docutils" />
<div class="section" id="note-types-for-coercions-predicates-and-evidence">
<h1>Note [Types for coercions, predicates, and evidence]<a class="headerlink" href="#note-types-for-coercions-predicates-and-evidence" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>We treat differently:</p>
<blockquote>
<div><ol class="loweralpha">
<li><dl class="first docutils">
<dt>Predicate types</dt>
<dd><p class="first last">Test: isPredTy
Binders: DictIds
Kind: Constraint
Examples: (Eq a), and (a ~ b)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Coercion types are primitive, unboxed equalities</dt>
<dd><p class="first last">Test: isCoVarTy
Binders: CoVars (can appear in coercions)
Kind: TYPE (TupleRep [])
Examples: (t1 ~# t2) or (t1 ~R# t2)</p>
</dd>
</dl>
</li>
<li><p class="first">Evidence types is the type of evidence manipulated by
the type constraint solver.</p>
<blockquote>
<div><p>Test: isEvVarType
Binders: EvVars
Kind: Constraint or TYPE (TupleRep [])
Examples: all coercion types and predicate types</p>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p>Coercion types and predicate types are mutually exclusive,
but evidence types are a superset of both.</p>
<p>When treated as a user type,</p>
<blockquote>
<div><ul class="simple">
<li>Predicates (of kind Constraint) are invisible and are
implicitly instantiated</li>
<li>Coercion types, and non-pred evidence types (i.e. not
of kind Constrain), are just regular old types, are
visible, and are not implicitly instantiated.</li>
</ul>
</div></blockquote>
<p>In a FunTy { ft_af = InvisArg }, the argument type is always
a Predicate type.</p>
</div>
<div class="section" id="note-constraints-in-kinds">
<h1>Note [Constraints in kinds]<a class="headerlink" href="#note-constraints-in-kinds" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="docutils">
<dt>Do we allow a type constructor to have a kind like</dt>
<dd>S :: Eq a =&gt; a -&gt; Type</dd>
<dt>No, we do not.  Doing so would mean would need a TyConApp like</dt>
<dd><blockquote class="first">
<div>S &#64;k &#64;(d :: Eq k) (ty :: k)</div></blockquote>
<p class="last">and we have no way to build, or decompose, evidence like
(d :: Eq k) at the type level.</p>
</dd>
<dt>But we admit one exception: equality.  We /do/ allow, say,</dt>
<dd>MkT :: (a ~ b) =&gt; a -&gt; b -&gt; Type a b</dd>
</dl>
<p>Why?  Because we can, without much difficulty.  Moreover
we can promote a GADT data constructor (see TyCon
Note [Promoted data constructors]), like</p>
<blockquote>
<div><dl class="docutils">
<dt>data GT a b where</dt>
<dd>MkGT : a -&gt; a -&gt; GT a a</dd>
</dl>
</div></blockquote>
<p>so programmers might reasonably expect to be able to
promote MkT as well.</p>
<p>How does this work?</p>
<ul>
<li><p class="first">In TcValidity.checkConstraintsOK we reject kinds that
have constraints other than (a~b) and (a~~b).</p>
</li>
<li><p class="first">In Inst.tcInstInvisibleTyBinder we instantiate a call
of MkT by emitting</p>
<blockquote>
<div><p>[W] co :: alpha ~# beta</p>
</div></blockquote>
<dl class="docutils">
<dt>and producing the elaborated term</dt>
<dd><p class="first last">MkT &#64;alpha &#64;beta (Eq# alpha beta co)</p>
</dd>
</dl>
<p>We don't generate a boxed &quot;Wanted&quot;; we generate only a
regular old /unboxed/ primitive-equality Wanted, and build
the box on the spot.</p>
</li>
<li><p class="first">How can we get such a MkT?  By promoting a GADT-style data
constructor</p>
<blockquote>
<div><dl class="docutils">
<dt>data T a b where</dt>
<dd><p class="first last">MkT :: (a~b) =&gt; a -&gt; b -&gt; T a b</p>
</dd>
</dl>
</div></blockquote>
<p>See DataCon.mkPromotedDataCon
and Note [Promoted data constructors] in TyCon</p>
</li>
<li><p class="first">We support both homogeneous (~) and heterogeneous (~~)
equality.  (See Note [The equality types story]
in TysPrim for a primer on these equality types.)</p>
</li>
<li><p class="first">How do we prevent a MkT having an illegal constraint like
Eq a?  We check for this at use-sites; see TcHsType.tcTyVar,
specifically dc_theta_illegal_constraint.</p>
</li>
<li><dl class="first docutils">
<dt>Notice that nothing special happens if</dt>
<dd><p class="first last">K :: (a ~# b) =&gt; blah</p>
</dd>
</dl>
<p>because (a ~# b) is not a predicate type, and is never
implicitly instantiated. (Mind you, it's not clear how you
could creates a type constructor with such a kind.) See
Note [Types for coercions, predicates, and evidence]</p>
</li>
<li><p class="first">The existence of promoted MkT with an equality-constraint
argument is the (only) reason that the AnonTCB constructor
of TyConBndrVis carries an AnonArgFlag (VisArg/InvisArg).
For example, when we promote the data constructor</p>
<blockquote>
<div><p>MkT :: forall a b. (a~b) =&gt; a -&gt; b -&gt; T a b</p>
</div></blockquote>
<dl class="docutils">
<dt>we get a PromotedDataCon with tyConBinders</dt>
<dd><p class="first last">Bndr (a :: Type)  (NamedTCB Inferred)
Bndr (b :: Type)  (NamedTCB Inferred)
Bndr (_ :: a ~ b) (AnonTCB InvisArg)
Bndr (_ :: a)     (AnonTCB VisArg))
Bndr (_ :: b)     (AnonTCB VisArg))</p>
</dd>
</dl>
</li>
<li><p class="first">One might reasonably wonder who <em>unpacks</em> these boxes once they are
made. After all, there is no type-level <cite>case</cite> construct. The
surprising answer is that no one ever does. Instead, if a GADT
constructor is used on the left-hand side of a type family equation,
that occurrence forces GHC to unify the types in question. For
example:</p>
<dl class="docutils">
<dt>data G a where</dt>
<dd><p class="first last">MkG :: G Bool</p>
</dd>
<dt>type family F (x :: G a) :: a where</dt>
<dd><p class="first last">F MkG = False</p>
</dd>
</dl>
<p>When checking the LHS <cite>F MkG</cite>, GHC sees the MkG constructor and then must
unify F's implicit parameter <cite>a</cite> with Bool. This succeeds, making the equation</p>
<blockquote>
<div><p>F Bool (MkG &#64;Bool &lt;Bool&gt;) = False</p>
</div></blockquote>
<p>Note that we never need unpack the coercion. This is because type
family equations are <em>not</em> parametric in their kind variables. That
is, we could have just said</p>
<dl class="docutils">
<dt>type family H (x :: G a) :: a where</dt>
<dd><p class="first last">H _ = False</p>
</dd>
</dl>
<p>The presence of False on the RHS also forces <cite>a</cite> to become Bool,
giving us</p>
<blockquote>
<div><p>H Bool _ = False</p>
</div></blockquote>
<p>The fact that any of this works stems from the lack of phase
separation between types and kinds (unlike the very present phase
separation between terms and types).</p>
<p>Once we have the ability to pattern-match on types below top-level,
this will no longer cut it, but it seems fine for now.</p>
</li>
</ul>
</div>
<div class="section" id="note-arguments-to-type-constructors">
<h1>Note [Arguments to type constructors]<a class="headerlink" href="#note-arguments-to-type-constructors" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Because of kind polymorphism, in addition to type application we now
have kind instantiation. We reuse the same notations to do so.</p>
<p>For example:</p>
<blockquote>
<div>Just (* -&gt; <a href="#id1"><span class="problematic" id="id2">*</span></a>) Maybe
Right * Nat Zero</div></blockquote>
<p>are represented by:</p>
<blockquote>
<div>TyConApp (PromotedDataCon Just) [* -&gt; <em>, Maybe]
TyConApp (PromotedDataCon Right) [</em>, Nat, (PromotedDataCon Zero)]</div></blockquote>
<p>Important note: Nat is used as a <em>kind</em> and not as a type. This can be
confusing, since type-level Nat and kind-level Nat are identical. We
use the kind of (PromotedDataCon Right) to know if its arguments are
kinds or types.</p>
<p>This kind instantiation only happens in TyConApp currently.</p>
</div>
<div class="section" id="note-non-trivial-definitional-equality">
<h1>Note [Non-trivial definitional equality]<a class="headerlink" href="#note-non-trivial-definitional-equality" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Is Int <a href="#id3"><span class="problematic" id="id4">|</span></a>&gt; &lt;*&gt; the same as Int? YES! In order to reduce headaches,
we decide that any reflexive casts in types are just ignored.
(Indeed they must be. See Note [Respecting definitional equality].)
More generally, the <cite>eqType</cite> function, which defines Core's type equality
relation, ignores casts and coercion arguments, as long as the
two types have the same kind. This allows us to be a little sloppier
in keeping track of coercions, which is a good thing. It also means
that eqType does not depend on eqCoercion, which is also a good thing.</p>
<p>Why is this sensible? That is, why is something different than α-equivalence
appropriate for the implementation of eqType?</p>
<p>Anything smaller than ~ and homogeneous is an appropriate definition for
equality. The type safety of FC depends only on ~. Let's say η : τ ~ σ. Any
expression of type τ can be transmuted to one of type σ at any point by
casting. The same is true of expressions of type σ. So in some sense, τ and σ
are interchangeable.</p>
<p>But let's be more precise. If we examine the typing rules of FC (say, those in
<a class="reference external" href="https://cs.brynmawr.edu/~rae/papers/2015/equalities/equalities.pdf">https://cs.brynmawr.edu/~rae/papers/2015/equalities/equalities.pdf</a>)
there are several places where the same metavariable is used in two different
premises to a rule. (For example, see Ty_App.) There is an implicit equality
check here. What definition of equality should we use? By convention, we use
α-equivalence. Take any rule with one (or more) of these implicit equality
checks. Then there is an admissible rule that uses ~ instead of the implicit
check, adding in casts as appropriate.</p>
<p>The only problem here is that ~ is heterogeneous. To make the kinds work out
in the admissible rule that uses ~, it is necessary to homogenize the
coercions. That is, if we have η : (τ : κ1) ~ (σ : κ2), then we don't use η;
we use η <a href="#id5"><span class="problematic" id="id6">|</span></a>&gt; kind η, which is homogeneous.</p>
<p>The effect of this all is that eqType, the implementation of the implicit
equality check, can use any homogeneous relation that is smaller than ~, as
those rules must also be admissible.</p>
<p>A more drawn out argument around all of this is presented in Section 7.2 of
Richard E's thesis (<a class="reference external" href="http://cs.brynmawr.edu/~rae/papers/2016/thesis/eisenberg-thesis.pdf">http://cs.brynmawr.edu/~rae/papers/2016/thesis/eisenberg-thesis.pdf</a>).</p>
<p>What would go wrong if we insisted on the casts matching? See the beginning of
Section 8 in the unpublished paper above. Theoretically, nothing at all goes
wrong. But in practical terms, getting the coercions right proved to be
nightmarish. And types would explode: during kind-checking, we often produce
reflexive kind coercions. When we try to cast by these, mkCastTy just discards
them. But if we used an eqType that distinguished between Int and Int <a href="#id7"><span class="problematic" id="id8">|</span></a>&gt; &lt;*&gt;,
then we couldn't discard -- the output of kind-checking would be enormous,
and we would need enormous casts with lots of CoherenceCo's to straighten
them out.</p>
<p>Would anything go wrong if eqType respected type families? No, not at all. But
that makes eqType rather hard to implement.</p>
<p>Thus, the guideline for eqType is that it should be the largest
easy-to-implement relation that is still smaller than ~ and homogeneous. The
precise choice of relation is somewhat incidental, as long as the smart
constructors and destructors in Type respect whatever relation is chosen.</p>
<p>Another helpful principle with eqType is this:</p>
<blockquote>
<div>(EQ) If (t1 <cite>eqType</cite> t2) then I can replace t1 by t2 anywhere.</div></blockquote>
<p>This principle also tells us that eqType must relate only types with the
same kinds.</p>
</div>
<div class="section" id="note-respecting-definitional-equality">
<h1>Note [Respecting definitional equality]<a class="headerlink" href="#note-respecting-definitional-equality" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Note [Non-trivial definitional equality] introduces the property (EQ).
How is this upheld?</p>
<p>Any function that pattern matches on all the constructors will have to
consider the possibility of CastTy. Presumably, those functions will handle
CastTy appropriately and we'll be OK.</p>
<p>More dangerous are the splitXXX functions. Let's focus on splitTyConApp.
We don't want it to fail on (T a b c <a href="#id9"><span class="problematic" id="id10">|</span></a>&gt; co). Happily, if we have</p>
<blockquote>
<div>(T a b c <a href="#id11"><span class="problematic" id="id12">|</span></a>&gt; co) <cite>eqType</cite> (T d e f)</div></blockquote>
<p>then co must be reflexive. Why? eqType checks that the kinds are equal, as
well as checking that (a <cite>eqType</cite> d), (b <cite>eqType</cite> e), and (c <cite>eqType</cite> f).
By the kind check, we know that (T a b c <a href="#id13"><span class="problematic" id="id14">|</span></a>&gt; co) and (T d e f) have the same
kind. So the only way that co could be non-reflexive is for (T a b c) to have
a different kind than (T d e f). But because T's kind is closed (all tycon kinds
are closed), the only way for this to happen is that one of the arguments has
to differ, leading to a contradiction. Thus, co is reflexive.</p>
<p>Accordingly, by eliminating reflexive casts, splitTyConApp need not worry
about outermost casts to uphold (EQ). Eliminating reflexive casts is done
in mkCastTy.</p>
<dl class="docutils">
<dt>Unforunately, that's not the end of the story. Consider comparing</dt>
<dd>(T a b c)      =?       (T a b <a href="#id15"><span class="problematic" id="id16">|</span></a>&gt; (co -&gt; &lt;Type&gt;)) (c <a href="#id17"><span class="problematic" id="id18">|</span></a>&gt; co)</dd>
</dl>
<p>These two types have the same kind (Type), but the left type is a TyConApp
while the right type is not. To handle this case, we say that the right-hand
type is ill-formed, requiring an AppTy never to have a casted TyConApp
on its left. It is easy enough to pull around the coercions to maintain
this invariant, as done in Type.mkAppTy. In the example above, trying to
form the right-hand type will instead yield (T a b (c <a href="#id19"><span class="problematic" id="id20">|</span></a>&gt; co <a href="#id21"><span class="problematic" id="id22">|</span></a>&gt; sym co) <a href="#id23"><span class="problematic" id="id24">|</span></a>&gt; &lt;Type&gt;).
Both the casts there are reflexive and will be dropped. Huzzah.</p>
<p>This idea of pulling coercions to the right works for splitAppTy as well.</p>
<p>However, there is one hiccup: it's possible that a coercion doesn't relate two
Pi-types. For example, if we have &#64;type family Fun a b where Fun a b = a -&gt; b&#64;,
then we might have (T :: Fun Type Type) and (T <a href="#id25"><span class="problematic" id="id26">|</span></a>&gt; axFun) Int. That axFun can't
be pulled to the right. But we don't need to pull it: (T <a href="#id27"><span class="problematic" id="id28">|</span></a>&gt; axFun) Int is not
<cite>eqType</cite> to any proper TyConApp -- thus, leaving it where it is doesn't violate
our (EQ) property.</p>
<p>Lastly, in order to detect reflexive casts reliably, we must make sure not
to have nested casts: we update (t <a href="#id29"><span class="problematic" id="id30">|</span></a>&gt; co1 <a href="#id31"><span class="problematic" id="id32">|</span></a>&gt; co2) to (t <a href="#id33"><span class="problematic" id="id34">|</span></a>&gt; (co1 <cite>TransCo</cite> co2)).</p>
<p>In sum, in order to uphold (EQ), we need the following three invariants:</p>
<blockquote>
<div><dl class="docutils">
<dt>(EQ1) No decomposable CastTy to the left of an AppTy, where a decomposable</dt>
<dd>cast is one that relates either a FunTy to a FunTy or a
ForAllTy to a ForAllTy.</dd>
</dl>
<p>(EQ2) No reflexive casts in CastTy.
(EQ3) No nested CastTys.
(EQ4) No CastTy over (ForAllTy (Bndr tyvar vis) body).</p>
<blockquote>
<div>See Note [Weird typing rule for ForAllTy] in Type.</div></blockquote>
</div></blockquote>
<p>These invariants are all documented above, in the declaration for Type.</p>
</div>
<div class="section" id="note-unused-coercion-variable-in-forallty">
<h1>Note [Unused coercion variable in ForAllTy]<a class="headerlink" href="#note-unused-coercion-variable-in-forallty" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="docutils">
<dt>Suppose we have</dt>
<dd>(co:t1 ~ t2). e</dd>
<dt>What type should we give to this expression?</dt>
<dd><ol class="first last arabic simple">
<li>forall (co:t1 ~ t2) -&gt; t</li>
<li>(t1 ~ t2) -&gt; t</li>
</ol>
</dd>
</dl>
<p>If co is used in t, (1) should be the right choice.
if co is not used in t, we would like to have (1) and (2) equivalent.</p>
<p>However, we want to keep eqType simple and don't want eqType (1) (2) to return
True in any case.</p>
<p>We decide to always construct (2) if co is not used in t.</p>
<p>Thus in mkLamType, we check whether the variable is a coercion
variable (of type (t1 ~# t2), and whether it is un-used in the
body. If so, it returns a FunTy instead of a ForAllTy.</p>
<p>There are cases we want to skip the check. For example, the check is
unnecessary when it is known from the context that the input variable
is a type variable.  In those cases, we use mkForAllTy.</p>
</div>
<div class="section" id="note-tycobinders">
<h1>Note [TyCoBinders]<a class="headerlink" href="#note-tycobinders" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>A ForAllTy contains a TyCoVarBinder.  But a type can be decomposed
to a telescope consisting of a [TyCoBinder]</p>
<p>A TyCoBinder represents the type of binders -- that is, the type of an
argument to a Pi-type. GHC Core currently supports two different
Pi-types:</p>
<blockquote>
<div><ul class="simple">
<li>A non-dependent function type,
written with -&gt;, e.g. ty1 -&gt; ty2
represented as FunTy ty1 ty2. These are
lifted to Coercions with the corresponding FunCo.</li>
<li>A dependent compile-time-only polytype,
written with forall, e.g.  forall (a:<a href="#id35"><span class="problematic" id="id36">*</span></a>). ty
represented as ForAllTy (Bndr a v) ty</li>
</ul>
</div></blockquote>
<p>Both Pi-types classify terms/types that take an argument. In other
words, if <cite>x</cite> is either a function or a polytype, <cite>x arg</cite> makes sense
(for an appropriate <cite>arg</cite>).</p>
</div>
<div class="section" id="note-varbndrs-tycovarbinders-tyconbinders-and-visibility">
<h1>Note [VarBndrs, TyCoVarBinders, TyConBinders, and visibility]<a class="headerlink" href="#note-varbndrs-tycovarbinders-tyconbinders-and-visibility" title="このヘッドラインへのパーマリンク">¶</a></h1>
<ul>
<li><p class="first">A ForAllTy (used for both types and kinds) contains a TyCoVarBinder.
Each TyCoVarBinder</p>
<blockquote>
<div><p>Bndr a tvis</p>
</div></blockquote>
<p>is equipped with tvis::ArgFlag, which says whether or not arguments
for this binder should be visible (explicit) in source Haskell.</p>
</li>
<li><dl class="first docutils">
<dt>A TyCon contains a list of TyConBinders.  Each TyConBinder</dt>
<dd><p class="first last">Bndr a cvis</p>
</dd>
</dl>
<p>is equipped with cvis::TyConBndrVis, which says whether or not type
and kind arguments for this TyCon should be visible (explicit) in
source Haskell.</p>
</li>
</ul>
<div class="section" id="this-table-summarises-the-visibility-rules">
<h2>This table summarises the visibility rules:<a class="headerlink" href="#this-table-summarises-the-visibility-rules" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="line-block">
<div class="line-block">
<div class="line">Occurrences look like this</div>
</div>
<div class="line">GHC displays type as     in Haskell source code</div>
</div>
<p><a href="#id37"><span class="problematic" id="id38">|</span></a>--------------------------------------------------------------------------------------
| Bndr a tvis :: TyCoVarBinder, in the binder of ForAllTy for a term
|  tvis :: ArgFlag
|  tvis = Inferred:            f :: forall {a}. type    Arg not allowed:  f</p>
<blockquote>
<div>f :: forall {co}. type   Arg not allowed:  f</div></blockquote>
<div class="line-block">
<div class="line-block">
<div class="line">tvis = Specified:           f :: forall a. type      Arg optional:     f  or  f &#64;Int</div>
<div class="line">tvis = Required:            T :: forall k -&gt; type    Arg required:     T *</div>
<div class="line-block">
<div class="line">This last form is illegal in terms: See Note [No Required TyCoBinder in terms]</div>
<div class="line"><br /></div>
</div>
</div>
<div class="line">Bndr k cvis :: TyConBinder, in the TyConBinders of a TyCon</div>
<div class="line-block">
<div class="line">cvis :: TyConBndrVis</div>
<div class="line">cvis = AnonTCB:             T :: kind -&gt; kind        Required:            T *</div>
<div class="line">cvis = NamedTCB Inferred:   T :: forall {k}. kind    Arg not allowed:     T</div>
<div class="line-block">
<div class="line">T :: forall {co}. kind   Arg not allowed:     T</div>
</div>
<div class="line">cvis = NamedTCB Specified:  T :: forall k. kind      Arg not allowed[1]:  T</div>
<div class="line">cvis = NamedTCB Required:   T :: forall k -&gt; kind    Required:            T *</div>
</div>
</div>
<hr class="docutils" />
<dl class="docutils">
<dt>[1] In types, in the Specified case, it would make sense to allow</dt>
<dd>optional kind applications, thus (T &#64;*), but we have not
yet implemented that</dd>
</dl>
<p>---- In term declarations ----</p>
<ul>
<li><p class="first">Inferred.  Function defn, with no signature:  f1 x = x
We infer f1 :: forall {a}. a -&gt; a, with 'a' Inferred
It's Inferred because it doesn't appear in any
user-written signature for f1</p>
</li>
<li><dl class="first docutils">
<dt>Specified.  Function defn, with signature (implicit forall):</dt>
<dd><p class="first last">f2 :: a -&gt; a; f2 x = x</p>
</dd>
</dl>
<p>So f2 gets the type f2 :: forall a. a -&gt; a, with 'a' Specified
even though 'a' is not bound in the source code by an explicit forall</p>
</li>
<li><dl class="first docutils">
<dt>Specified.  Function defn, with signature (explicit forall):</dt>
<dd><p class="first last">f3 :: forall a. a -&gt; a; f3 x = x</p>
</dd>
</dl>
<p>So f3 gets the type f3 :: forall a. a -&gt; a, with 'a' Specified</p>
</li>
<li><dl class="first docutils">
<dt>Inferred/Specified.  Function signature with inferred kind polymorphism.</dt>
<dd><p class="first last">f4 :: a b -&gt; Int</p>
</dd>
</dl>
<p>So 'f4' gets the type f4 :: forall {k} (a:k-&gt;*) (b:k). a b -&gt; Int
Here 'k' is Inferred (it's not mentioned in the type),
but 'a' and 'b' are Specified.</p>
</li>
<li><dl class="first docutils">
<dt>Specified.  Function signature with explicit kind polymorphism</dt>
<dd><p class="first last">f5 :: a (b :: k) -&gt; Int</p>
</dd>
</dl>
<p>This time 'k' is Specified, because it is mentioned explicitly,
so we get f5 :: forall (k:<em>) (a:k-&gt;</em>) (b:k). a b -&gt; Int</p>
</li>
<li><p class="first">Similarly pattern synonyms:
Inferred - from inferred types (e.g. no pattern type signature)</p>
<blockquote>
<div><ul class="simple">
<li>or from inferred kind polymorphism</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>---- In type declarations ----</p>
<ul>
<li><dl class="first docutils">
<dt>Inferred (k)</dt>
<dd><p class="first last">data T1 a b = MkT1 (a b)</p>
</dd>
</dl>
<p>Here T1's kind is  T1 :: forall {k:<em>}. (k-&gt;</em>) -&gt; k -&gt; *
The kind variable 'k' is Inferred, since it is not mentioned</p>
<p>Note that 'a' and 'b' correspond to /Anon/ TyCoBinders in T1's kind,
and Anon binders don't have a visibility flag. (Or you could think
of Anon having an implicit Required flag.)</p>
</li>
<li><dl class="first docutils">
<dt>Specified (k)</dt>
<dd><p class="first last">data T2 (a::k-&gt;*) b = MkT (a b)</p>
</dd>
</dl>
<p>Here T's kind is  T :: forall (k:<em>). (k-&gt;</em>) -&gt; k -&gt; *
The kind variable 'k' is Specified, since it is mentioned in
the signature.</p>
</li>
<li><dl class="first docutils">
<dt>Required (k)</dt>
<dd><p class="first last">data T k (a::k-&gt;*) b = MkT (a b)</p>
</dd>
</dl>
<p>Here T's kind is  T :: forall k:* -&gt; (k-&gt;*) -&gt; k -&gt; *
The kind is Required, since it bound in a positional way in T's declaration
Every use of T must be explicitly applied to a kind</p>
</li>
<li><dl class="first docutils">
<dt>Inferred (k1), Specified (k)</dt>
<dd><p class="first last">data T a b (c :: k) = MkT (a b) (Proxy c)</p>
</dd>
</dl>
<p>Here T's kind is  T :: forall {k1:<em>} (k:</em>). (k1-&gt;*) -&gt; k1 -&gt; k -&gt; *
So 'k' is Specified, because it appears explicitly,
but 'k1' is Inferred, because it does not</p>
</li>
</ul>
<p>Generally, in the list of TyConBinders for a TyCon,</p>
<ul class="simple">
<li>Inferred arguments always come first</li>
<li>Specified, Anon and Required can be mixed</li>
</ul>
<dl class="docutils">
<dt>e.g.</dt>
<dd>data Foo (a :: Type) :: forall b. (a -&gt; b -&gt; Type) -&gt; Type where ...</dd>
<dt>Here Foo's TyConBinders are</dt>
<dd>[Required 'a', Specified 'b', Anon]</dd>
<dt>and its kind prints as</dt>
<dd>Foo :: forall a -&gt; forall b. (a -&gt; b -&gt; Type) -&gt; Type</dd>
</dl>
<p>See also Note [Required, Specified, and Inferred for types] in TcTyClsDecls</p>
<p>---- Printing -----</p>
<blockquote>
<div><p>We print forall types with enough syntax to tell you their visibility
flag.  But this is not source Haskell, and these types may not all
be parsable.</p>
<dl class="docutils">
<dt>Specified: a list of Specified binders is written between <cite>forall</cite> and <cite>.</cite>:</dt>
<dd>const :: forall a b. a -&gt; b -&gt; a</dd>
<dt>Inferred:  with -fprint-explicit-foralls, Inferred binders are written</dt>
<dd><dl class="first docutils">
<dt>in braces:</dt>
<dd>f :: forall {k} (a:k). S k a -&gt; Int</dd>
</dl>
<p class="last">Otherwise, they are printed like Specified binders.</p>
</dd>
<dt>Required: binders are put between <cite>forall</cite> and <cite>-&gt;</cite>:</dt>
<dd>T :: forall k -&gt; *</dd>
</dl>
</div></blockquote>
<p>---- Other points -----</p>
<ul class="simple">
<li>In classic Haskell, all named binders (that is, the type variables in
a polymorphic function type f :: forall a. a -&gt; a) have been Inferred.</li>
<li>Inferred variables correspond to &quot;generalized&quot; variables from the
Visible Type Applications paper (ESOP'16).</li>
</ul>
</div>
</div>
<div class="section" id="note-no-required-tycobinder-in-terms">
<h1>Note [No Required TyCoBinder in terms]<a class="headerlink" href="#note-no-required-tycobinder-in-terms" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>We don't allow Required foralls for term variables, including pattern
synonyms and data constructors.  Why?  Because then an application
would need a /compulsory/ type argument (possibly without an &quot;&#64;&quot;?),
thus (f Int); and we don't have concrete syntax for that.</p>
<p>We could change this decision, but Required, Named TyCoBinders are rare
anyway.  (Most are Anons.)</p>
<p>However the type of a term can (just about) have a required quantifier;
see Note [Required quantifiers in the type of a term] in TcExpr.</p>
</div>
<div class="section" id="note-refl-invariant">
<h1>Note [Refl invariant]<a class="headerlink" href="#note-refl-invariant" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Invariant 1:</p>
<dl class="docutils">
<dt>Coercions have the following invariant</dt>
<dd>Refl (similar for GRefl r ty MRefl) is always lifted as far as possible.</dd>
<dt>You might think that a consequencs is:</dt>
<dd>Every identity coercions has Refl at the root</dd>
<dt>But that's not quite true because of coercion variables.  Consider</dt>
<dd>g         where g :: Int~Int
Left h    where h :: Maybe Int ~ Maybe Int</dd>
</dl>
<p>etc.  So the consequence is only true of coercions that
have no coercion variables.</p>
</div>
<div class="section" id="note-generalized-reflexive-coercion">
<h1>Note [Generalized reflexive coercion]<a class="headerlink" href="#note-generalized-reflexive-coercion" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>GRefl is a generalized reflexive coercion (see #15192). It wraps a kind
coercion, which might be reflexive (MRefl) or any coercion (MCo co). The typing
rules for GRefl:</p>
<blockquote>
<div><p>GRefl r ty MRefl: ty ~r ty</p>
<p>GRefl r ty (MCo co) : ty ~r ty <a href="#id39"><span class="problematic" id="id40">|</span></a>&gt; co</p>
</div></blockquote>
<p>Consider we have</p>
<blockquote>
<div>g1 :: s ~r t
s  :: k1
g2 :: k1 ~ k2</div></blockquote>
<p>and we want to construct a coercions co which has type</p>
<blockquote>
<div>(s <a href="#id41"><span class="problematic" id="id42">|</span></a>&gt; g2) ~r t</div></blockquote>
<p>We can define</p>
<blockquote>
<div>co = Sym (GRefl r s g2) ; g1</div></blockquote>
<p>It is easy to see that</p>
<blockquote>
<div>Refl == GRefl Nominal ty MRefl :: ty ~n ty</div></blockquote>
<p>A nominal reflexive coercion is quite common, so we keep the special form Refl to
save allocation.</p>
</div>
<div class="section" id="note-coercion-axioms-applied-to-coercions">
<h1>Note [Coercion axioms applied to coercions]<a class="headerlink" href="#note-coercion-axioms-applied-to-coercions" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>The reason coercion axioms can be applied to coercions and not just
types is to allow for better optimization.  There are some cases where
we need to be able to &quot;push transitivity inside&quot; an axiom in order to
expose further opportunities for optimization.</p>
<p>For example, suppose we have</p>
<blockquote>
<div>C a : t[a] ~ F a
g   : b ~ c</div></blockquote>
<p>and we want to optimize</p>
<blockquote>
<div>sym (C b) ; t[g] ; C c</div></blockquote>
<p>which has the kind</p>
<blockquote>
<div>F b ~ F c</div></blockquote>
<p>(stopping through t[b] and t[c] along the way).</p>
<p>We'd like to optimize this to just F g -- but how?  The key is
that we need to allow axioms to be instantiated by <em>coercions</em>,
not just by types.  Then we can (in certain cases) push
transitivity inside the axiom instantiations, and then react
opposite-polarity instantiations of the same axiom.  In this
case, e.g., we match t[g] against the LHS of (C c)'s kind, to
obtain the substitution  a <a href="#id43"><span class="problematic" id="id44">|</span></a>-&gt; g  (note this operation is sort
of the dual of lifting!) and hence end up with</p>
<blockquote>
<div>C g : t[b] ~ F c</div></blockquote>
<p>which indeed has the same kind as  t[g] ; C c.</p>
<p>Now we have</p>
<blockquote>
<div>sym (C b) ; C g</div></blockquote>
<p>which can be optimized to F g.</p>
</div>
<div class="section" id="note-coaxiom-index">
<h1>Note [CoAxiom index]<a class="headerlink" href="#note-coaxiom-index" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>A CoAxiom has 1 or more branches. Each branch has contains a list
of the free type variables in that branch, the LHS type patterns,
and the RHS type for that branch. When we apply an axiom to a list
of coercions, we must choose which branch of the axiom we wish to
use, as the different branches may have different numbers of free
type variables. (The number of type patterns is always the same
among branches, but that doesn't quite concern us here.)</p>
<p>The Int in the AxiomInstCo constructor is the 0-indexed number
of the chosen branch.</p>
</div>
<div class="section" id="note-forall-coercions">
<h1>Note [Forall coercions]<a class="headerlink" href="#note-forall-coercions" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Constructing coercions between forall-types can be a bit tricky,
because the kinds of the bound tyvars can be different.</p>
<p>The typing rule is:</p>
<blockquote>
<div><p>kind_co : k1 ~ k2
tv1:k1 <a href="#id45"><span class="problematic" id="id46">|</span></a>- co : t1 ~ t2
-------------------------------------------------------------------
ForAllCo tv1 kind_co co : all tv1:k1. t1  ~</p>
<blockquote>
<div>all tv1:k2. (t2[tv1 <a href="#id47"><span class="problematic" id="id48">|</span></a>-&gt; tv1 <a href="#id49"><span class="problematic" id="id50">|</span></a>&gt; sym kind_co])</div></blockquote>
</div></blockquote>
<p>First, the TyCoVar stored in a ForAllCo is really an optimisation: this field
should be a Name, as its kind is redundant. Thinking of the field as a Name
is helpful in understanding what a ForAllCo means.
The kind of TyCoVar always matches the left-hand kind of the coercion.</p>
<p>The idea is that kind_co gives the two kinds of the tyvar. See how, in the
conclusion, tv1 is assigned kind k1 on the left but kind k2 on the right.</p>
<p>Of course, a type variable can't have different kinds at the same time. So,
we arbitrarily prefer the first kind when using tv1 in the inner coercion
co, which shows that t1 equals t2.</p>
<p>The last wrinkle is that we need to fix the kinds in the conclusion. In
t2, tv1 is assumed to have kind k1, but it has kind k2 in the conclusion of
the rule. So we do a kind-fixing substitution, replacing (tv1:k1) with
(tv1:k2) <a href="#id51"><span class="problematic" id="id52">|</span></a>&gt; sym kind_co. This substitution is slightly bizarre, because it
mentions the same name with different kinds, but it <em>is</em> well-kinded, noting
that <cite>(tv1:k2) |&gt; sym kind_co</cite> has kind k1.</p>
<p>This all really would work storing just a Name in the ForAllCo. But we can't
add Names to, e.g., VarSets, and there generally is just an impedance mismatch
in a bunch of places. So we use tv1. When we need tv2, we can use
setTyVarKind.</p>
</div>
<div class="section" id="note-predicate-coercions">
<h1>Note [Predicate coercions]<a class="headerlink" href="#note-predicate-coercions" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="docutils">
<dt>Suppose we have</dt>
<dd>g :: a~b</dd>
<dt>How can we coerce between types</dt>
<dd>([c]~a) =&gt; [a] -&gt; c</dd>
<dt>and</dt>
<dd>([c]~b) =&gt; [b] -&gt; c</dd>
</dl>
<p>where the equality predicate <em>itself</em> differs?</p>
<p>Answer: we simply treat (~) as an ordinary type constructor, so these
types really look like</p>
<blockquote>
<div>((~) [c] a) -&gt; [a] -&gt; c
((~) [c] b) -&gt; [b] -&gt; c</div></blockquote>
<p>So the coercion between the two is obviously</p>
<blockquote>
<div>((~) [c] g) -&gt; [g] -&gt; c</div></blockquote>
<p>Another way to see this to say that we simply collapse predicates to
their representation type (see Type.coreView and Type.predTypeRep).</p>
<p>This collapse is done by mkPredCo; there is no PredCo constructor
in Coercion.  This is important because we need Nth to work on
predicates too:</p>
<blockquote>
<div>Nth 1 ((~) [c] g) = g</div></blockquote>
<p>See Simplify.simplCoercionF, which generates such selections.</p>
</div>
<div class="section" id="note-roles">
<h1>Note [Roles]<a class="headerlink" href="#note-roles" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Roles are a solution to the GeneralizedNewtypeDeriving problem, articulated
in #1496. The full story is in docs/core-spec/core-spec.pdf. Also, see
<a class="reference external" href="http://ghc.haskell.org/trac/ghc/wiki/RolesImplementation">http://ghc.haskell.org/trac/ghc/wiki/RolesImplementation</a></p>
<p>Here is one way to phrase the problem:</p>
<p>Given:
newtype Age = MkAge Int
type family F x
type instance F Age = Bool
type instance F Int = Char</p>
<p>This compiles down to:
axAge :: Age ~ Int
axF1 :: F Age ~ Bool
axF2 :: F Int ~ Char</p>
<p>Then, we can make:
(sym (axF1) ; F axAge ; axF2) :: Bool ~ Char</p>
<p>Yikes!</p>
<p>The solution is _roles_, as articulated in &quot;Generative Type Abstraction and
Type-level Computation&quot; (POPL 2010), available at
<a class="reference external" href="http://www.seas.upenn.edu/~sweirich/papers/popl163af-weirich.pdf">http://www.seas.upenn.edu/~sweirich/papers/popl163af-weirich.pdf</a></p>
<p>The specification for roles has evolved somewhat since that paper. For the
current full details, see the documentation in docs/core-spec. Here are some
highlights.</p>
<p>We label every equality with a notion of type equivalence, of which there are
three options: Nominal, Representational, and Phantom. A ground type is
nominally equivalent only with itself. A newtype (which is considered a ground
type in Haskell) is representationally equivalent to its representation.
Anything is &quot;phantomly&quot; equivalent to anything else. We use &quot;N&quot;, &quot;R&quot;, and &quot;P&quot;
to denote the equivalences.</p>
<p>The axioms above would be:
axAge :: Age ~R Int
axF1 :: F Age ~N Bool
axF2 :: F Age ~N Char</p>
<p>Then, because transitivity applies only to coercions proving the same notion
of equivalence, the above construction is impossible.</p>
<p>However, there is still an escape hatch: we know that any two types that are
nominally equivalent are representationally equivalent as well. This is what
the form SubCo proves -- it &quot;demotes&quot; a nominal equivalence into a
representational equivalence. So, it would seem the following is possible:</p>
<p>sub (sym axF1) ; F axAge ; sub axF2 :: Bool ~R Char   -- WRONG</p>
<p>What saves us here is that the arguments to a type function F, lifted into a
coercion, <em>must</em> prove nominal equivalence. So, (F axAge) is ill-formed, and
we are safe.</p>
<p>Roles are attached to parameters to TyCons. When lifting a TyCon into a
coercion (through TyConAppCo), we need to ensure that the arguments to the
TyCon respect their roles. For example:</p>
<p>data T a b = MkT a (F b)</p>
<p>If we know that a1 ~R a2, then we know (T a1 b) ~R (T a2 b). But, if we know
that b1 ~R b2, we know nothing about (T a b1) and (T a b2)! This is because
the type function F branches on b's <em>name</em>, not representation. So, we say
that 'a' has role Representational and 'b' has role Nominal. The third role,
Phantom, is for parameters not used in the type's definition. Given the
following definition</p>
<p>data Q a = MkQ Int</p>
<p>the Phantom role allows us to say that (Q Bool) ~R (Q Char), because we
can construct the coercion Bool ~P Char (using UnivCo).</p>
<p>See the paper cited above for more examples and information.</p>
</div>
<div class="section" id="note-tyconappco-roles">
<h1>Note [TyConAppCo roles]<a class="headerlink" href="#note-tyconappco-roles" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>The TyConAppCo constructor has a role parameter, indicating the role at
which the coercion proves equality. The choice of this parameter affects
the required roles of the arguments of the TyConAppCo. To help explain
it, assume the following definition:</p>
<blockquote>
<div>type instance F Int = Bool   -- Axiom axF : F Int ~N Bool
newtype Age = MkAge Int      -- Axiom axAge : Age ~R Int
data Foo a = MkFoo a         -- Role on Foo's parameter is Representational</div></blockquote>
<dl class="docutils">
<dt>TyConAppCo Nominal Foo axF <span class="classifier-delimiter">:</span> <span class="classifier">Foo (F Int) ~N Foo Bool</span></dt>
<dd>For (TyConAppCo Nominal) all arguments must have role Nominal. Why?
So that Foo Age ~N Foo Int does <em>not</em> hold.</dd>
</dl>
<p>TyConAppCo Representational Foo (SubCo axF) : Foo (F Int) ~R Foo Bool
TyConAppCo Representational Foo axAge       : Foo Age     ~R Foo Int</p>
<blockquote>
<div><p>For (TyConAppCo Representational), all arguments must have the roles
corresponding to the result of tyConRoles on the TyCon. This is the
whole point of having roles on the TyCon to begin with. So, we can
have Foo Age ~R Foo Int, if Foo's parameter has role R.</p>
<p>If a Representational TyConAppCo is over-saturated (which is otherwise fine),
the spill-over arguments must all be at Nominal. This corresponds to the
behavior for AppCo.</p>
</div></blockquote>
<dl class="docutils">
<dt>TyConAppCo Phantom Foo (UnivCo Phantom Int Bool) <span class="classifier-delimiter">:</span> <span class="classifier">Foo Int ~P Foo Bool</span></dt>
<dd>All arguments must have role Phantom. This one isn't strictly
necessary for soundness, but this choice removes ambiguity.</dd>
</dl>
<p>The rules here dictate the roles of the parameters to mkTyConAppCo
(should be checked by Lint).</p>
</div>
<div class="section" id="note-nthco-and-newtypes">
<h1>Note [NthCo and newtypes]<a class="headerlink" href="#note-nthco-and-newtypes" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Suppose we have</p>
<blockquote>
<div>newtype N a = MkN Int
type role N representational</div></blockquote>
<p>This yields axiom</p>
<blockquote>
<div>NTCo:N :: forall a. N a ~R Int</div></blockquote>
<p>We can then build</p>
<blockquote>
<div>co :: forall a b. N a ~R N b
co = NTCo:N a ; sym (NTCo:N b)</div></blockquote>
<p>for any <cite>a</cite> and <cite>b</cite>. Because of the role annotation on N, if we use
NthCo, we'll get out a representational coercion. That is:</p>
<blockquote>
<div>NthCo r 0 co :: forall a b. a ~R b</div></blockquote>
<p>Yikes! Clearly, this is terrible. The solution is simple: forbid
NthCo to be used on newtypes if the internal coercion is representational.</p>
<p>This is not just some corner case discovered by a segfault somewhere;
it was discovered in the proof of soundness of roles and described
in the &quot;Safe Coercions&quot; paper (ICFP '14).</p>
</div>
<div class="section" id="note-nthco-cached-roles">
<h1>Note [NthCo Cached Roles]<a class="headerlink" href="#note-nthco-cached-roles" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Why do we cache the role of NthCo in the NthCo constructor?
Because computing role(Nth i co) involves figuring out that</p>
<blockquote>
<div>co :: T tys1 ~ T tys2</div></blockquote>
<p>using coercionKind, and finding (coercionRole co), and then looking
at the tyConRoles of T. Avoiding bad asymptotic behaviour here means
we have to compute the kind and role of a coercion simultaneously,
which makes the code complicated and inefficient.</p>
<p>This only happens for NthCo. Caching the role solves the problem, and
allows coercionKind and coercionRole to be simple.</p>
<p>See #11735</p>
</div>
<div class="section" id="note-instco-roles">
<h1>Note [InstCo roles]<a class="headerlink" href="#note-instco-roles" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Here is (essentially) the typing rule for InstCo:</p>
<p>g :: (forall a. t1) ~r (forall a. t2)
w :: s1 ~N s2
------------------------------- InstCo
InstCo g w :: (t1 [a <a href="#id53"><span class="problematic" id="id54">|</span></a>-&gt; s1]) ~r (t2 [a <a href="#id55"><span class="problematic" id="id56">|</span></a>-&gt; s2])</p>
<p>Note that the Coercion w <em>must</em> be nominal. This is necessary
because the variable a might be used in a &quot;nominal position&quot;
(that is, a place where role inference would require a nominal
role) in t1 or t2. If we allowed w to be representational, we
could get bogus equalities.</p>
<p>A more nuanced treatment might be able to relax this condition
somewhat, by checking if t1 and/or t2 use their bound variables
in nominal ways. If not, having w be representational is OK.</p>
<p>%************************************************************************
%*                                                                      *</p>
<blockquote>
<div>UnivCoProvenance</div></blockquote>
<p>%*                                                                      *
%************************************************************************</p>
<p>A UnivCo is a coercion whose proof does not directly express its role
and kind (indeed for some UnivCos, like UnsafeCoerceProv, there /is/
no proof).</p>
<p>The different kinds of UnivCo are described by UnivCoProvenance.  Really
each is entirely separate, but they all share the need to represent their
role and kind, which is done in the UnivCo constructor.</p>
</div>
<div class="section" id="note-phantom-coercions">
<h1>Note [Phantom coercions]<a class="headerlink" href="#note-phantom-coercions" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="docutils">
<dt>Consider</dt>
<dd>data T a = T1 | T2</dd>
<dt>Then we have</dt>
<dd>T s ~R T t</dd>
</dl>
<p>for any old s,t. The witness for this is (TyConAppCo T Rep co),
where (co :: s ~P t) is a phantom coercion built with PhantomProv.
The role of the UnivCo is always Phantom.  The Coercion stored is the
(nominal) kind coercion between the types</p>
<blockquote>
<div>kind(s) ~N kind (t)</div></blockquote>
</div>
<div class="section" id="note-coercion-holes">
<h1>Note [Coercion holes]<a class="headerlink" href="#note-coercion-holes" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="docutils">
<dt>During typechecking, constraint solving for type classes works by</dt>
<dd><ul class="first last simple">
<li>Generate an evidence Id,  d7 :: Num a</li>
<li>Wrap it in a Wanted constraint, [W] d7 :: Num a</li>
<li>Use the evidence Id where the evidence is needed</li>
<li>Solve the constraint later</li>
<li>When solved, add an enclosing let-binding  let d7 = .... in ....
which actually binds d7 to the (Num a) evidence</li>
</ul>
</dd>
</dl>
<p>For equality constraints we use a different strategy.  See Note [The
equality types story] in TysPrim for background on equality constraints.</p>
<blockquote>
<div><ul class="simple">
<li>For /boxed/ equality constraints, (t1 ~N t2) and (t1 ~R t2), it's just
like type classes above. (Indeed, boxed equality constraints <em>are</em> classes.)</li>
<li>But for /unboxed/ equality constraints (t1 ~R# t2) and (t1 ~N# t2)
we use a different plan</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt>For unboxed equalities:</dt>
<dd><ul class="first last simple">
<li>Generate a CoercionHole, a mutable variable just like a unification
variable</li>
<li>Wrap the CoercionHole in a Wanted constraint; see TcRnTypes.TcEvDest</li>
<li>Use the CoercionHole in a Coercion, via HoleCo</li>
<li>Solve the constraint later</li>
<li>When solved, fill in the CoercionHole by side effect, instead of
doing the let-binding thing</li>
</ul>
</dd>
</dl>
<p>The main reason for all this is that there may be no good place to let-bind
the evidence for unboxed equalities:</p>
<blockquote>
<div><ul>
<li><p class="first">We emit constraints for kind coercions, to be used to cast a
type's kind. These coercions then must be used in types. Because
they might appear in a top-level type, there is no place to bind
these (unlifted) coercions in the usual way.</p>
</li>
<li><dl class="first docutils">
<dt>A coercion for (forall a. t1) ~ (forall a. t2) will look like</dt>
<dd><p class="first last">forall a. (coercion for t1~t2)</p>
</dd>
</dl>
<p>But the coercion for (t1~t2) may mention 'a', and we don't have
let-bindings within coercions.  We could add them, but coercion
holes are easier.</p>
</li>
<li><p class="first">Moreover, nothing is lost from the lack of let-bindings. For
dicionaries want to achieve sharing to avoid recomoputing the
dictionary.  But coercions are entirely erased, so there's little
benefit to sharing. Indeed, even if we had a let-binding, we
always inline types and coercions at every use site and drop the
binding.</p>
</li>
</ul>
</div></blockquote>
<p>Other notes about HoleCo:</p>
<blockquote>
<div><ul class="simple">
<li>INVARIANT: CoercionHole and HoleCo are used only during type checking,
and should never appear in Core. Just like unification variables; a Type
can contain a TcTyVar, but only during type checking. If, one day, we
use type-level information to separate out forms that can appear during
type-checking vs forms that can appear in core proper, holes in Core will
be ruled out.</li>
<li>See Note [CoercionHoles and coercion free variables]</li>
<li>Coercion holes can be compared for equality like other coercions:
by looking at the types coerced.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="note-coercionholes-and-coercion-free-variables">
<h1>Note [CoercionHoles and coercion free variables]<a class="headerlink" href="#note-coercionholes-and-coercion-free-variables" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Why does a CoercionHole contain a CoVar, as well as reference to
fill in?  Because we want to treat that CoVar as a free variable of
the coercion.  See #14584, and Note [What prevents a
constraint from floating] in TcSimplify, item (4):</p>
<blockquote>
<div><dl class="docutils">
<dt>forall k. [W] co1 :: t1 ~# t2 <a href="#id57"><span class="problematic" id="id58">|</span></a>&gt; co2</dt>
<dd>[W] co2 :: k ~# *</dd>
</dl>
</div></blockquote>
<p>Here co2 is a CoercionHole. But we /must/ know that it is free in
co1, because that's all that stops it floating outside the
implication.</p>
</div>
<div class="section" id="note-proofirrelprov">
<h1>Note [ProofIrrelProv]<a class="headerlink" href="#note-proofirrelprov" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>A ProofIrrelProv is a coercion between coercions. For example:</p>
<blockquote>
<div><dl class="docutils">
<dt>data G a where</dt>
<dd>MkG :: G Bool</dd>
</dl>
</div></blockquote>
<p>In core, we get</p>
<blockquote>
<div>G :: * -&gt; *
MkG :: forall (a :: <a href="#id59"><span class="problematic" id="id60">*</span></a>). (a ~ Bool) -&gt; G a</div></blockquote>
<p>Now, consider 'MkG -- that is, MkG used in a type -- and suppose we want
a proof that ('MkG a1 co1) ~ ('MkG a2 co2). This will have to be</p>
<blockquote>
<div><p>TyConAppCo Nominal MkG [co3, co4]
where</p>
<blockquote>
<div>co3 :: co1 ~ co2
co4 :: a1 ~ a2</div></blockquote>
</div></blockquote>
<dl class="docutils">
<dt>Note that</dt>
<dd>co1 :: a1 ~ Bool
co2 :: a2 ~ Bool</dd>
<dt>Here,</dt>
<dd><p class="first">co3 = UnivCo (ProofIrrelProv co5) Nominal (CoercionTy co1) (CoercionTy co2)
where</p>
<blockquote class="last">
<div>co5 :: (a1 ~ Bool) ~ (a2 ~ Bool)
co5 = TyConAppCo Nominal (~#) [&lt;*&gt;, &lt;*&gt;, co4, &lt;Bool&gt;]</div></blockquote>
</dd>
</dl>
<p>%************************************************************************
%*                                                                      *</p>
<blockquote>
<div>Free variables of types and coercions</div></blockquote>
<p>%*                                                                      *
%************************************************************************</p>
</div>
<div class="section" id="note-free-variables-of-types">
<h1>Note [Free variables of types]<a class="headerlink" href="#note-free-variables-of-types" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>The family of functions tyCoVarsOfType, tyCoVarsOfTypes etc, returns
a VarSet that is closed over the types of its variables.  More precisely,</p>
<blockquote>
<div>if    S = tyCoVarsOfType( t )
and   (a:k) is in S
then  tyCoVarsOftype( k ) is a subset of S</div></blockquote>
<p>Example: The tyCoVars of this ((a:* -&gt; k) Int) is {a, k}.</p>
<p>We could /not/ close over the kinds of the variable occurrences, and
instead do so at call sites, but it seems that we always want to do
so, so it's easiest to do it here.</p>
<p>It turns out that getting the free variables of types is performance critical,
so we profiled several versions, exploring different implementation strategies.</p>
<ol class="arabic">
<li><p class="first">Baseline version: uses FV naively. Essentially:</p>
<p>tyCoVarsOfType ty = fvVarSet $ tyCoFVsOfType ty</p>
<p>This is not nice, because FV introduces some overhead to implement
determinism, and throught its &quot;interesting var&quot; function, neither of which
we need here, so they are a complete waste.</p>
</li>
<li><p class="first">UnionVarSet version: instead of reusing the FV-based code, we simply used
VarSets directly, trying to avoid the overhead of FV. E.g.:</p>
<p>-- FV version:
tyCoFVsOfType (AppTy fun arg)    a b c = (tyCoFVsOfType fun <cite>unionFV</cite> tyCoFVsOfType arg) a b c</p>
<p>-- UnionVarSet version:
tyCoVarsOfType (AppTy fun arg)    = (tyCoVarsOfType fun <cite>unionVarSet</cite> tyCoVarsOfType arg)</p>
<p>This looks deceptively similar, but while FV internally builds a list- and
set-generating function, the VarSet functions manipulate sets directly, and
the latter peforms a lot worse than the naive FV version.</p>
</li>
<li><p class="first">Accumulator-style VarSet version: this is what we use now. We do use VarSet
as our data structure, but delegate the actual work to a new
<a href="#id115"><span class="problematic" id="id116">ty_co_vars_of_</span></a>...  family of functions, which use accumulator style and the
&quot;in-scope set&quot; filter found in the internals of FV, but without the
determinism overhead.</p>
</li>
</ol>
<p>See #14880.</p>
</div>
<div class="section" id="note-closing-over-free-variable-kinds">
<h1>Note [Closing over free variable kinds]<a class="headerlink" href="#note-closing-over-free-variable-kinds" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>tyCoVarsOfType and tyCoFVsOfType, while traversing a type, will also close over
free variable kinds. In previous GHC versions, this happened naively: whenever
we would encounter an occurrence of a free type variable, we would close over
its kind. This, however is wrong for two reasons (see #14880):</p>
<ol class="arabic simple">
<li>Efficiency. If we have Proxy (a::k) -&gt; Proxy (a::k) -&gt; Proxy (a::k), then
we don't want to have to traverse k more than once.</li>
<li>Correctness. Imagine we have forall k. b -&gt; k, where b has
kind k, for some k bound in an outer scope. If we look at b's kind inside
the forall, we'll collect that k is free and then remove k from the set of
free variables. This is plain wrong. We must instead compute that b is free
and then conclude that b's kind is free.</li>
</ol>
<p>An obvious first approach is to move the closing-over-kinds from the
occurrences of a type variable to after finding the free vars - however, this
turns out to introduce performance regressions, and isn't even entirely
correct.</p>
<p>In fact, it isn't even important <em>when</em> we close over kinds; what matters is
that we handle each type var exactly once, and that we do it in the right
context.</p>
<p>So the next approach we tried was to use the &quot;in-scope set&quot; part of FV or the
equivalent argument in the accumulator-style <cite>ty_co_vars_of_type</cite> function, to
say &quot;don't bother with variables we have already closed over&quot;. This should work
fine in theory, but the code is complicated and doesn't perform well.</p>
<p>But there is a simpler way, which is implemented here. Consider the two points
above:</p>
<ol class="arabic simple">
<li>Efficiency: we now have an accumulator, so the second time we encounter 'a',
we'll ignore it, certainly not looking at its kind - this is why
pre-checking set membership before inserting ends up not only being faster,
but also being correct.</li>
<li>Correctness: we have an &quot;in-scope set&quot; (I think we should call it it a</li>
</ol>
<blockquote>
<div>&quot;bound-var set&quot;), specifying variables that are bound by a forall in the type
we are traversing; we simply ignore these variables, certainly not looking at
their kind.</div></blockquote>
<p>So now consider:</p>
<blockquote>
<div>forall k. b -&gt; k</div></blockquote>
<p>where b :: k-&gt;Type is free; but of course, it's a different k! When looking at
b -&gt; k we'll have k in the bound-var set. So we'll ignore the k. But suppose
this is our first encounter with b; we want the free vars of its kind. But we
want to behave as if we took the free vars of its kind at the end; that is,
with no bound vars in scope.</p>
<p>So the solution is easy. The old code was this:</p>
<blockquote>
<div><dl class="docutils">
<dt>ty_co_vars_of_type (TyVarTy v) is acc</dt>
<dd><div class="first last line-block">
<div class="line">v <cite>elemVarSet</cite> is  = acc</div>
<div class="line">v <cite>elemVarSet</cite> acc = acc</div>
<div class="line">otherwise          = ty_co_vars_of_type (tyVarKind v) is (extendVarSet acc v)</div>
</div>
</dd>
</dl>
</div></blockquote>
<p>Now all we need to do is take the free vars of tyVarKind v <em>with an empty
bound-var set</em>, thus:</p>
<dl class="docutils">
<dt>ty_co_vars_of_type (TyVarTy v) is acc</dt>
<dd><div class="first last line-block">
<div class="line">v <cite>elemVarSet</cite> is  = acc</div>
<div class="line">v <cite>elemVarSet</cite> acc = acc</div>
<div class="line">otherwise          = ty_co_vars_of_type (tyVarKind v) emptyVarSet (extendVarSet acc v)
^^^^^^^^^^^</div>
</div>
</dd>
</dl>
<p>And that's it.</p>
</div>
<div class="section" id="note-covarsofx-and-the-interestingvarfun">
<h1>Note [CoVarsOfX and the InterestingVarFun]<a class="headerlink" href="#note-covarsofx-and-the-interestingvarfun" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>The coVarsOfType, coVarsOfTypes, coVarsOfCo, and coVarsOfCos functions are
implemented in terms of the respective FV equivalents (tyCoFVsOf...), rather
than the VarSet-based flavors (tyCoVarsOf...), despite the performance
considerations outlined in Note [Free variables of types].</p>
<p>This is because FV includes the InterestingVarFun, which is useful here,
because we can cleverly use it to restrict our calculations to CoVars - this
is what getCoVarSet achieves.</p>
<p>See #14880.</p>
</div>
<div class="section" id="note-when-does-a-tycon-application-need-an-explicit-kind-signature">
<h1>Note [When does a tycon application need an explicit kind signature?]<a class="headerlink" href="#note-when-does-a-tycon-application-need-an-explicit-kind-signature" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>There are a couple of places in GHC where we convert Core Types into forms that
more closely resemble user-written syntax. These include:</p>
<ol class="arabic simple">
<li>Template Haskell Type reification (see, for instance, TcSplice.reify_tc_app)</li>
<li>Converting Types to LHsTypes (in HsUtils.typeToLHsType, or in Haddock)</li>
</ol>
<p>This conversion presents a challenge: how do we ensure that the resulting type
has enough kind information so as not to be ambiguous? To better motivate this
question, consider the following Core type:</p>
<blockquote>
<div>-- Foo :: Type -&gt; Type
type Foo = Proxy Type</div></blockquote>
<p>There is nothing ambiguous about the RHS of Foo in Core. But if we were to,
say, reify it into a TH Type, then it's tempting to just drop the invisible
Type argument and simply return <cite>Proxy</cite>. But now we've lost crucial kind
information: we don't know if we're dealing with <cite>Proxy Type</cite> or <cite>Proxy Bool</cite>
or <cite>Proxy Int</cite> or something else! We've inadvertently introduced ambiguity.</p>
<p>Unlike in other situations in GHC, we can't just turn on
-fprint-explicit-kinds, as we need to produce something which has the same
structure as a source-syntax type. Moreover, we can't rely on visible kind
application, since the first kind argument to Proxy is inferred, not specified.
Our solution is to annotate certain tycons with their kinds whenever they
appear in applied form in order to resolve the ambiguity. For instance, we
would reify the RHS of Foo like so:</p>
<blockquote>
<div>type Foo = (Proxy :: Type -&gt; Type)</div></blockquote>
<p>We need to devise an algorithm that determines precisely which tycons need
these explicit kind signatures. We certainly don't want to annotate _every_
tycon with a kind signature, or else we might end up with horribly bloated
types like the following:</p>
<blockquote>
<div>(Either :: Type -&gt; Type -&gt; Type) (Int :: Type) (Char :: Type)</div></blockquote>
<p>We only want to annotate tycons that absolutely require kind signatures in
order to resolve some sort of ambiguity, and nothing more.</p>
<p>Suppose we have a tycon application (T ty_1 ... ty_n). Why might this type
require a kind signature? It might require it when we need to fill in any of
T's omitted arguments. By &quot;omitted argument&quot;, we mean one that is dropped when
reifying ty_1 ... ty_n. Sometimes, the omitted arguments are inferred and
specified arguments (e.g., TH reification in TcSplice), and sometimes the
omitted arguments are only the inferred ones (e.g., in HsUtils.typeToLHsType,
which reifies specified arguments through visible kind application).
Regardless, the key idea is that _some_ arguments are going to be omitted after
reification, and the only mechanism we have at our disposal for filling them in
is through explicit kind signatures.</p>
<p>What do we mean by &quot;fill in&quot;? Let's consider this small example:</p>
<blockquote>
<div>T :: forall {k}. Type -&gt; (k -&gt; Type) -&gt; k</div></blockquote>
<p>Moreover, we have this application of T:</p>
<blockquote>
<div>T &#64;{j} Int aty</div></blockquote>
<p>When we reify this type, we omit the inferred argument &#64;{j}. Is it fixed by the
other (non-inferred) arguments? Yes! If we know the kind of (aty :: blah), then
we'll generate an equality constraint (kappa -&gt; Type) and, assuming we can
solve it, that will fix <cite>kappa</cite>. (Here, <cite>kappa</cite> is the unification variable
that we instantiate <cite>k</cite> with.)</p>
<p>Therefore, for any application of a tycon T to some arguments, the Question We
Must Answer is:</p>
<ul class="simple">
<li>Given the first n arguments of T, do the kinds of the non-omitted arguments
fill in the omitted arguments?</li>
</ul>
<p>(This is still a bit hand-wavey, but we'll refine this question incrementally
as we explain more of the machinery underlying this process.)</p>
<p>Answering this question is precisely the role that the <cite>injectiveVarsOfType</cite>
and <cite>injective_vars_of_binder</cite> functions exist to serve. If an omitted argument
<cite>a</cite> appears in the set returned by <cite>injectiveVarsOfType ty</cite>, then knowing
<cite>ty</cite> determines (i.e., fills in) <cite>a</cite>. (More on <cite>injective_vars_of_binder</cite> in a
bit.)</p>
<p>More formally, if
<cite>a</cite> is in <cite>injectiveVarsOfType ty</cite>
and  S1(ty) ~ S2(ty),
then S1(a)  ~ S2(a),
where S1 and S2 are arbitrary substitutions.</p>
<p>For example, is <cite>F</cite> is a non-injective type family, then</p>
<blockquote>
<div>injectiveVarsOfType(Either c (Maybe (a, F b c))) = {a, c}</div></blockquote>
<p>Now that we know what this function does, here is a second attempt at the
Question We Must Answer:</p>
<ul class="simple">
<li>Given the first n arguments of T (ty_1 ... ty_n), consider the binders
of T that are instantiated by non-omitted arguments. Do the injective
variables of these binders fill in the remainder of T's kind?</li>
</ul>
<p>Alright, we're getting closer. Next, we need to clarify what the injective
variables of a tycon binder are. This the role that the
<cite>injective_vars_of_binder</cite> function serves. Here is what this function does for
each form of tycon binder:</p>
<ul>
<li><p class="first">Anonymous binders are injective positions. For example, in the promoted data
constructor '(:):</p>
<blockquote>
<div><p>'(:) :: forall a. a -&gt; [a] -&gt; [a]</p>
</div></blockquote>
<p>The second and third tyvar binders (of kinds <cite>a</cite> and <cite>[a]</cite>) are both
anonymous, so if we had '(:) 'True '[], then the kinds of 'True and
'[] would contribute to the kind of '(:) 'True '[]. Therefore,
injective_vars_of_binder(_ :: a) = injectiveVarsOfType(a) = {a}.
(Similarly, injective_vars_of_binder(_ :: [a]) = {a}.)</p>
</li>
<li><p class="first">Named binders:
- Inferred binders are never injective positions. For example, in this data</p>
<blockquote>
<div><p>type:</p>
<blockquote>
<div><p>data Proxy a
Proxy :: forall {k}. k -&gt; Type</p>
</div></blockquote>
<p>If we had Proxy 'True, then the kind of 'True would not contribute to the
kind of Proxy 'True. Therefore,
injective_vars_of_binder(forall {k}. ...) = {}.</p>
</div></blockquote>
<ul>
<li><p class="first">Required binders are injective positions. For example, in this data type:</p>
<blockquote>
<div><p>data Wurble k (a :: k) :: k
Wurble :: forall k -&gt; k -&gt; k</p>
</div></blockquote>
</li>
</ul>
<p>The first tyvar binder (of kind <cite>forall k</cite>) has required visibility, so if
we had Wurble (Maybe a) Nothing, then the kind of Maybe a would
contribute to the kind of Wurble (Maybe a) Nothing. Hence,
injective_vars_of_binder(forall a -&gt; ...) = {a}.
- Specified binders /might/ be injective positions, depending on how you</p>
<blockquote>
<div><p>approach things. Continuing the '(:) example:</p>
<blockquote>
<div><p>'(:) :: forall a. a -&gt; [a] -&gt; [a]</p>
</div></blockquote>
<p>Normally, the (forall a. ...) tyvar binder wouldn't contribute to the kind
of '(:) 'True '[], since it's not explicitly instantiated by the user. But
if visible kind application is enabled, then this is possible, since the
user can write '(:) &#64;Bool 'True '[]. (In that case,
injective_vars_of_binder(forall a. ...) = {a}.)</p>
<p>There are some situations where using visible kind application is appropriate
(e.g., HsUtils.typeToLHsType) and others where it is not (e.g., TH
reification), so the <cite>injective_vars_of_binder</cite> function is parametrized by
a Bool which decides if specified binders should be counted towards
injective positions or not.</p>
</div></blockquote>
</li>
</ul>
<p>Now that we've defined injective_vars_of_binder, we can refine the Question We
Must Answer once more:</p>
<ul class="simple">
<li>Given the first n arguments of T (ty_1 ... ty_n), consider the binders
of T that are instantiated by non-omitted arguments. For each such binder
b_i, take the union of all injective_vars_of_binder(b_i). Is this set a
superset of the free variables of the remainder of T's kind?</li>
</ul>
<p>If the answer to this question is &quot;no&quot;, then (T ty_1 ... ty_n) needs an
explicit kind signature, since T's kind has kind variables leftover that
aren't fixed by the non-omitted arguments.</p>
<p>One last sticking point: what does &quot;the remainder of T's kind&quot; mean? You might
be tempted to think that it corresponds to all of the arguments in the kind of
T that would normally be instantiated by omitted arguments. But this isn't
quite right, strictly speaking. Consider the following (silly) example:</p>
<blockquote>
<div>S :: forall {k}. Type -&gt; Type</div></blockquote>
<p>And suppose we have this application of S:</p>
<blockquote>
<div>S Int Bool</div></blockquote>
<p>The Int argument would be omitted, and
injective_vars_of_binder(_ :: Type) = {}. This is not a superset of {k}, which
might suggest that (S Bool) needs an explicit kind signature. But
(S Bool :: Type) doesn't actually fix <cite>k</cite>! This is because the kind signature
only affects the /result/ of the application, not all of the individual
arguments. So adding a kind signature here won't make a difference. Therefore,
the fourth (and final) iteration of the Question We Must Answer is:</p>
<ul class="simple">
<li>Given the first n arguments of T (ty_1 ... ty_n), consider the binders
of T that are instantiated by non-omitted arguments. For each such binder
b_i, take the union of all injective_vars_of_binder(b_i). Is this set a
superset of the free variables of the kind of (T ty_1 ... ty_n)?</li>
</ul>
<p>Phew, that was a lot of work!</p>
<p>How can be sure that this is correct? That is, how can we be sure that in the
event that we leave off a kind annotation, that one could infer the kind of the
tycon application from its arguments? It's essentially a proof by induction: if
we can infer the kinds of every subtree of a type, then the whole tycon
application will have an inferrable kind--unless, of course, the remainder of
the tycon application's kind has uninstantiated kind variables.</p>
<p>What happens if T is oversaturated? That is, if T's kind has fewer than n
arguments, in the case that the concrete application instantiates a result
kind variable with an arrow kind? If we run out of arguments, we do not attach
a kind annotation. This should be a rare case, indeed. Here is an example:</p>
<blockquote>
<div><p>data T1 :: k1 -&gt; k2 -&gt; *
data T2 :: k1 -&gt; k2 -&gt; *</p>
<p>type family G (a :: k) :: k
type instance G T1 = T2</p>
<p>type instance F Char = (G T1 Bool :: (* -&gt; <a href="#id61"><span class="problematic" id="id62">*</span></a>) -&gt; <a href="#id63"><span class="problematic" id="id64">*</span></a>)   -- F from above</p>
</div></blockquote>
<p>Here G's kind is (forall k. k -&gt; k), and the desugared RHS of that last
instance of F is (G (* -&gt; (* -&gt; <em>) -&gt; *) (T1 * (</em> -&gt; <a href="#id65"><span class="problematic" id="id66">*</span></a>)) Bool). According to
the algorithm above, there are 3 arguments to G so we should peel off 3
arguments in G's kind. But G's kind has only two arguments. This is the
rare special case, and we choose not to annotate the application of G with
a kind signature. After all, we needn't do this, since that instance would
be reified as:</p>
<blockquote>
<div>type instance F Char = G (T1 :: * -&gt; (* -&gt; <a href="#id67"><span class="problematic" id="id68">*</span></a>) -&gt; <a href="#id69"><span class="problematic" id="id70">*</span></a>) Bool</div></blockquote>
<p>So the kind of G isn't ambiguous anymore due to the explicit kind annotation
on its argument. See #8953 and test th/T8953.
----------- No free vars -----------------</p>
</div>
<div class="section" id="note-the-substitution-invariant">
<h1>Note [The substitution invariant]<a class="headerlink" href="#note-the-substitution-invariant" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>When calling (substTy subst ty) it should be the case that
the in-scope set in the substitution is a superset of both:</p>
<blockquote>
<div>(SIa) The free vars of the range of the substitution
(SIb) The free vars of ty minus the domain of the substitution</div></blockquote>
<p>The same rules apply to other substitutions (notably CoreSubst.Subst)</p>
<ul>
<li><dl class="first docutils">
<dt>Reason for (SIa). Consider</dt>
<dd><p class="first last">substTy [a :-&gt; Maybe b] (forall b. b-&gt;a)</p>
</dd>
<dt>we must rename the forall b, to get</dt>
<dd><p class="first last">forall b2. b2 -&gt; Maybe b</p>
</dd>
</dl>
<p>Making 'b' part of the in-scope set forces this renaming to
take place.</p>
</li>
<li><dl class="first docutils">
<dt>Reason for (SIb). Consider</dt>
<dd><p class="first last">substTy [a :-&gt; Maybe b] (forall b. (a,b,x))</p>
</dd>
</dl>
<p>Then if we use the in-scope set {b}, satisfying (SIa), there is
a danger we will rename the forall'd variable to 'x' by mistake,
getting this:</p>
<blockquote>
<div><p>forall x. (Maybe b, x, x)</p>
</div></blockquote>
<p>Breaking (SIb) caused the bug from #11371.</p>
</li>
</ul>
<p>Note: if the free vars of the range of the substitution are freshly created,
then the problems of (SIa) can't happen, and so it would be sound to
ignore (SIa).</p>
</div>
<div class="section" id="note-substitutions-apply-only-once">
<h1>Note [Substitutions apply only once]<a class="headerlink" href="#note-substitutions-apply-only-once" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="docutils">
<dt>We use TCvSubsts to instantiate things, and we might instantiate</dt>
<dd>forall a b. ty</dd>
<dt>with the types</dt>
<dd>[a, b], or [b, a].</dd>
</dl>
<p>So the substitution might go [a-&gt;b, b-&gt;a].  A similar situation arises in Core
when we find a beta redex like</p>
<blockquote>
<div>(/a /b -&gt; e) b a</div></blockquote>
<p>Then we also end up with a substitution that permutes type variables. Other
variations happen to; for example [a -&gt; (a, b)].</p>
<blockquote>
<div></div></blockquote>
<p>A TCvSubst is not idempotent, but, unlike the non-idempotent substitution
we use during unifications, it must not be repeatedly applied.</p>
</div>
<div class="section" id="note-extending-the-tvsubstenv">
<h1>Note [Extending the TvSubstEnv]<a class="headerlink" href="#note-extending-the-tvsubstenv" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>See #tcvsubst_invariant# for the invariants that must hold.</p>
<p>This invariant allows a short-cut when the subst envs are empty:
if the TvSubstEnv and CvSubstEnv are empty --- i.e. (isEmptyTCvSubst subst)
holds --- then (substTy subst ty) does nothing.</p>
<dl class="docutils">
<dt>For example, consider:</dt>
<dd>(/a. /b:(a~Int). ...b..) Int</dd>
</dl>
<p>We substitute Int for 'a'.  The Unique of 'b' does not change, but
nevertheless we add 'b' to the TvSubstEnv, because b's kind does change</p>
<p>This invariant has several crucial consequences:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>In substVarBndr, we need extend the TvSubstEnv</dt>
<dd><ul class="first last">
<li>if the unique has changed</li>
<li>or if the kind has changed</li>
</ul>
</dd>
</dl>
</li>
<li>In substTyVar, we do not need to consult the in-scope set;
the TvSubstEnv is enough</li>
<li>In substTy, substTheta, we can short-circuit when the TvSubstEnv is empty</li>
</ul>
</div>
<div class="section" id="note-substituting-types-and-coercions">
<h1>Note [Substituting types and coercions]<a class="headerlink" href="#note-substituting-types-and-coercions" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Types and coercions are mutually recursive, and either may have variables
&quot;belonging&quot; to the other. Thus, every time we wish to substitute in a
type, we may also need to substitute in a coercion, and vice versa.
However, the constructor used to create type variables is distinct from
that of coercion variables, so we carry two VarEnvs in a TCvSubst. Note
that it would be possible to use the CoercionTy constructor to combine
these environments, but that seems like a false economy.</p>
<p>Note that the TvSubstEnv should <em>never</em> map a CoVar (built with the Id
constructor) and the CvSubstEnv should <em>never</em> map a TyVar. Furthermore,
the range of the TvSubstEnv should <em>never</em> include a type headed with
CoercionTy.</p>
</div>
<div class="section" id="note-sym-and-forallco">
<h1>Note [Sym and ForAllCo]<a class="headerlink" href="#note-sym-and-forallco" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>In OptCoercion, we try to push &quot;sym&quot; out to the leaves of a coercion. But,
how do we push sym into a ForAllCo? It's a little ugly.</p>
<p>Here is the typing rule:</p>
<p>h : k1 ~# k2
(tv : k1) <a href="#id71"><span class="problematic" id="id72">|</span></a>- g : ty1 ~# ty2
----------------------------
ForAllCo tv h g : (ForAllTy (tv : k1) ty1) ~#</p>
<blockquote>
<div>(ForAllTy (tv : k2) (ty2[tv <a href="#id73"><span class="problematic" id="id74">|</span></a>-&gt; tv <a href="#id75"><span class="problematic" id="id76">|</span></a>&gt; sym h]))</div></blockquote>
<p>Here is what we want:</p>
<dl class="docutils">
<dt>ForAllCo tv h' g' <span class="classifier-delimiter">:</span> <span class="classifier">(ForAllTy (tv</span> <span class="classifier-delimiter">:</span> <span class="classifier">k2) (ty2[tv <a href="#id77"><span class="problematic" id="id78">|</span></a>-&gt; tv <a href="#id79"><span class="problematic" id="id80">|</span></a>&gt; sym h])) ~#</span></dt>
<dd>(ForAllTy (tv : k1) ty1)</dd>
</dl>
<p>Because the kinds of the type variables to the right of the colon are the kinds
coerced by h', we know (h' : k2 ~# k1). Thus, (h' = sym h).</p>
<p>Now, we can rewrite ty1 to be (ty1[tv <a href="#id81"><span class="problematic" id="id82">|</span></a>-&gt; tv <a href="#id83"><span class="problematic" id="id84">|</span></a>&gt; sym h' <a href="#id85"><span class="problematic" id="id86">|</span></a>&gt; h']). We thus want</p>
<dl class="docutils">
<dt>ForAllCo tv h' g' :</dt>
<dd>(ForAllTy (tv : k2) (ty2[tv <a href="#id87"><span class="problematic" id="id88">|</span></a>-&gt; tv <a href="#id89"><span class="problematic" id="id90">|</span></a>&gt; h'])) ~#
(ForAllTy (tv : k1) (ty1[tv <a href="#id91"><span class="problematic" id="id92">|</span></a>-&gt; tv <a href="#id93"><span class="problematic" id="id94">|</span></a>&gt; h'][tv <a href="#id95"><span class="problematic" id="id96">|</span></a>-&gt; tv <a href="#id97"><span class="problematic" id="id98">|</span></a>&gt; sym h']))</dd>
</dl>
<p>We thus see that we want</p>
<p>g' : ty2[tv <a href="#id99"><span class="problematic" id="id100">|</span></a>-&gt; tv <a href="#id101"><span class="problematic" id="id102">|</span></a>&gt; h'] ~# ty1[tv <a href="#id103"><span class="problematic" id="id104">|</span></a>-&gt; tv <a href="#id105"><span class="problematic" id="id106">|</span></a>&gt; h']</p>
<p>and thus g' = sym (g[tv <a href="#id107"><span class="problematic" id="id108">|</span></a>-&gt; tv <a href="#id109"><span class="problematic" id="id110">|</span></a>&gt; h']).</p>
<p>Putting it all together, we get this:</p>
<p>sym (ForAllCo tv h g)
==&gt;
ForAllCo tv (sym h) (sym g[tv <a href="#id111"><span class="problematic" id="id112">|</span></a>-&gt; tv <a href="#id113"><span class="problematic" id="id114">|</span></a>&gt; sym h])</p>
</div>
<div class="section" id="note-substituting-in-a-coercion-hole">
<h1>Note [Substituting in a coercion hole]<a class="headerlink" href="#note-substituting-in-a-coercion-hole" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>It seems highly suspicious to be substituting in a coercion that still
has coercion holes. Yet, this can happen in a situation like this:</p>
<blockquote>
<div><p>f :: forall k. k :~: Type -&gt; ()
f Refl = let x :: forall (a :: k). [a] -&gt; ...</p>
<blockquote>
<div>x = ...</div></blockquote>
</div></blockquote>
<p>When we check x's type signature, we require that k ~ Type. We indeed
know this due to the Refl pattern match, but the eager unifier can't
make use of givens. So, when we're done looking at x's type, a coercion
hole will remain. Then, when we're checking x's definition, we skolemise
x's type (in order to, e.g., bring the scoped type variable <cite>a</cite> into scope).
This requires performing a substitution for the fresh skolem variables.</p>
<p>This subsitution needs to affect the kind of the coercion hole, too --
otherwise, the kind will have an out-of-scope variable in it. More problematically
in practice (we won't actually notice the out-of-scope variable ever), skolems
in the kind might have too high a level, triggering a failure to uphold the
invariant that no free variables in a type have a higher level than the
ambient level in the type checker. In the event of having free variables in the
hole's kind, I'm pretty sure we'll always have an erroneous program, so we
don't need to worry what will happen when the hole gets filled in. After all,
a hole relating a locally-bound type variable will be unable to be solved. This
is why it's OK not to look through the IORef of a coercion hole during
substitution.</p>
</div>
<div class="section" id="note-when-to-print-foralls">
<h1>Note [When to print foralls]<a class="headerlink" href="#note-when-to-print-foralls" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>Mostly we want to print top-level foralls when (and only when) the user specifies
-fprint-explicit-foralls.  But when kind polymorphism is at work, that suppresses
too much information; see #9018.</p>
<dl class="docutils">
<dt>So I'm trying out this rule: print explicit foralls if</dt>
<dd><ol class="first last loweralpha simple">
<li>User specifies -fprint-explicit-foralls, or</li>
<li>Any of the quantified type variables has a kind
that mentions a kind variable</li>
</ol>
</dd>
<dt>This catches common situations, such as a type siguature</dt>
<dd>f :: m a</dd>
<dt>which means</dt>
<dd>f :: forall k. forall (m :: k-&gt;*) (a :: k). m a</dd>
</dl>
<p>We really want to see both the &quot;forall k&quot; and the kind signatures
on m and a.  The latter comes from pprTCvBndr.</p>
</div>
<div class="section" id="note-infix-type-variables">
<h1>Note [Infix type variables]<a class="headerlink" href="#note-infix-type-variables" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>With TypeOperators you can say</p>
<blockquote>
<div>f :: (a ~&gt; b) -&gt; b</div></blockquote>
<p>and the (~&gt;) is considered a type variable.  However, the type
pretty-printer in this module will just see (a ~&gt; b) as</p>
<blockquote>
<div>App (App (TyVarTy &quot;~&gt;&quot;) (TyVarTy &quot;a&quot;)) (TyVarTy &quot;b&quot;)</div></blockquote>
<p>So it'll print the type in prefix form.  To avoid confusion we must
remember to parenthesise the operator, thus</p>
<blockquote>
<div>(~&gt;) a b -&gt; b</div></blockquote>
<p>See #2766.</p>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">ghc-compiler-notes</a></h1>








<h3>ナビゲーション</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../backpack/NameShape.hs.html">Note [NameShape]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../backpack/RnModIface.hs.html">Note [rnIfaceNeverExported]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Avail.hs.html">Note [Representing fields in AvailInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html">Note [Precedence in types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-type-operator-precedence">Note [Type operator precedence]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-loopbreaker-occinfo">Note [LoopBreaker OccInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-tailcallinfo">Note [TailCallInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-pragma-source-text">Note [Pragma source text]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-literal-source-text">Note [Literal source text]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-inlinepragma">Note [InlinePragma]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-inl-inline-and-inl-act">Note [inl_inline and inl_act]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-conlike-pragma">Note [CONLIKE pragma]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/BasicTypes.hs.html#note-competing-activations">Note [Competing activations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html">Note [Data Constructor Naming]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-data-constructor-workers-and-wrappers">Note [Data constructor workers and wrappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-the-need-for-a-wrapper">Note [The need for a wrapper]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-the-stupid-context">Note [The stupid context]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-tyvarbinders-in-datacons">Note [TyVarBinders in DataCons]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-existential-coercion-variables">Note [Existential coercion variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-datacon-arities">Note [DataCon arities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-datacon-user-type-variable-binders">Note [DataCon user type variable binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-bangs-on-data-constructor-arguments">Note [Bangs on data constructor arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/DataCon.hs.html#note-data-con-representation">Note [Data con representation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html">Note [Exceptions and strictness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-demand-on-case-alternative-binders">Note [Demand on case-alternative binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-don-t-optimise-uprod-used-to-used">Note [Don't optimise UProd(Used) to Used]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-used-should-win">Note [Used should win]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-strict-demands">Note [Strict demands]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-dealing-with-call-demands">Note [Dealing with call demands]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-trimming-a-demand-to-a-type">Note [Trimming a demand to a type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-threshold-demands">Note [Threshold demands]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-replicating-polymorphic-demands">Note [Replicating polymorphic demands]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-defaultdmd-and-restypeargdmd">Note [defaultDmd and resTypeArgDmd]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-nature-of-result-demand">Note [Nature of result demand]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-asymmetry-of-both-for-dmdtype-and-dmdresult">Note [Asymmetry of 'both' for DmdType and DmdResult]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-the-need-for-bothdmdarg">Note [The need for BothDmdArg]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-demands-from-unsaturated-function-calls">Note [Demands from unsaturated function calls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-default-demand-on-free-variables">Note [Default demand on free variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-always-analyse-in-virgin-pass">Note [Always analyse in virgin pass]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-analyzing-with-lazy-demand-and-lambdas">Note [Analyzing with lazy demand and lambdas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-analysing-with-absent-demand">Note [Analysing with absent demand]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-demand-transformer-for-a-dictionary-selector">Note [Demand transformer for a dictionary selector]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-computing-one-shot-info">Note [Computing one-shot info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-unsaturated-applications">Note [Unsaturated applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-killing-usage-information">Note [Killing usage information]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Demand.hs.html#note-hyperstr-and-use-demands">Note [HyperStr and Use demands]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/FieldLabel.hs.html">Note [Why selector names include data constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Id.hs.html">Note [Free type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Id.hs.html#note-exported-localids">Note [Exported LocalIds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Id.hs.html#note-levity-polymorphic-ids">Note [Levity-polymorphic Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Id.hs.html#note-primop-wrappers">Note [Primop wrappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Id.hs.html#note-transferpolyidinfo">Note [transferPolyIdInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/IdInfo.hs.html">Note [Specialisations and RULES in IdInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/IdInfo.hs.html#note-levity-info">Note [Levity info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Lexeme.hs.html">Note [Classification of generated names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Literal.hs.html">Note [Integer literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Literal.hs.html#note-natural-literals">Note [Natural literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Literal.hs.html#note-string-literals">Note [String literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Literal.hs.html#note-word-int-underflow-overflow">Note [Word/Int underflow/overflow]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Literal.hs.html#note-printing-of-literals-in-core">Note [Printing of literals in Core]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Literal.hs.html#note-rubbish-literals">Note [Rubbish literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html">Note [Wired-in Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-ghcprimids-aka-pseudoops">Note [ghcPrimIds (aka pseudoops)]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-magicids">Note [magicIds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-wrappers-for-data-instance-tycons">Note [Wrappers for data instance tycons]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-newtype-datacons">Note [Newtype datacons]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-compulsory-newtype-unfolding">Note [Compulsory newtype unfolding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-inline-partially-applied-constructor-wrappers">Note [Inline partially-applied constructor wrappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-activation-for-data-constructor-wrappers">Note [Activation for data constructor wrappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-bangs-on-imported-data-constructors">Note [Bangs on imported data constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-data-con-wrappers-and-unlifted-types">Note [Data con wrappers and unlifted types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-data-con-wrappers-and-gadt-syntax">Note [Data con wrappers and GADT syntax]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-hsimplbangs-for-newtypes">Note [HsImplBangs for newtypes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-unpacking-gadts-and-existentials">Note [Unpacking GADTs and existentials]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-unpack-one-wide-fields">Note [Unpack one-wide fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-recursive-unboxing">Note [Recursive unboxing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-dict-funs-and-default-methods">Note [Dict funs and default methods]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-unsafe-coerce-magic">Note [Unsafe coerce magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-seqid-magic">Note [seqId magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-user-defined-rules-for-seq">Note [User-defined RULES for seq]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-lazyid-magic">Note [lazyId magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-noinlineid-magic">Note [noinlineId magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-the-oneshot-function">Note [The oneShot function]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-magicdictid-magic">Note [magicDictId magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/MkId.hs.html#note-evaldunfoldings">Note [evaldUnfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Module.hs.html">Note [The identifier lexicon]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Module.hs.html#note-unitid-to-installedunitid-improvement">Note [UnitId to InstalledUnitId improvement]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Module.hs.html#note-wired-in-packages">Note [Wired-in packages]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Module.hs.html#note-representation-of-module-name-variables">Note [Representation of module/name variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Module.hs.html#note-moduleenv-performance-and-determinism">Note [ModuleEnv performance and determinism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/NameCache.hs.html">Note [The Name Cache]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/NameCache.hs.html#note-built-in-syntax-and-the-orignamecache">Note [Built-in syntax and the OrigNameCache]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/NameEnv.hs.html">Note [depAnal determinism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/OccName.hs.html">Note [Suppressing uniques in OccNames]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/OccName.hs.html#note-the-unique-of-an-occname">Note [The Unique of an OccName]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/OccName.hs.html#note-tidyoccenv">Note [TidyOccEnv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/OccName.hs.html#note-tidying-multiple-names-at-once">Note [Tidying multiple names at once]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/PatSyn.hs.html">Note [Pattern synonym signature contexts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/PatSyn.hs.html#note-pattern-synonym-result-type">Note [Pattern synonym result type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/PatSyn.hs.html#note-pattern-synonym-representation">Note [Pattern synonym representation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/PatSyn.hs.html#note-matchers-and-builders-for-pattern-synonyms">Note [Matchers and builders for pattern synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/PatSyn.hs.html#note-builder-for-pattern-synonyms-with-unboxed-type">Note [Builder for pattern synonyms with unboxed type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/PatSyn.hs.html#note-pattern-synonyms-and-the-data-type-type">Note [Pattern synonyms and the data type Type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html">Note [Local bindings with Exact Names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-globalrdrelt-provenance">Note [GlobalRdrElt provenance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-parents">Note [Parents]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-parents-for-record-fields">Note [Parents for record fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-combining-parents">Note [Combining parents]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-gre-filtering">Note [GRE filtering]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-globalrdrenv-shadowing">Note [GlobalRdrEnv shadowing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/RdrName.hs.html#note-choosing-the-best-import-declaration">Note [Choosing the best import declaration]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/SrcLoc.hs.html">Note [HasSrcSpan Typeclass]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Unique.hs.html">Note [Unique Determinism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Unique.hs.html#note-unique-determinism-and-code-generation">Note [Unique Determinism and code generation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Unique.hs.html#note-no-ord-for-unique">Note [No Ord for Unique]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Var.hs.html">Note [Evidence: EvIds and CoVars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Var.hs.html#note-kind-and-type-variables">Note [Kind and type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Var.hs.html#note-exportflag-on-binders">Note [ExportFlag on binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Var.hs.html#note-globalid-localid">Note [GlobalId/LocalId]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/Var.hs.html#note-anonargflag-vs-forallvisflag">Note [AnonArgFlag vs. ForallVisFlag]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basicTypes/VarEnv.hs.html">Note [Eta expansion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/Bitmap.hs.html">Note [Strictness when building Bitmaps]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/BlockId.hs.html">Note [Unique BlockId]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CLabel.hs.html">Note [ticky for LNE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CLabel.hs.html#note-closure-and-info-labels">Note [Closure and info labels]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CLabel.hs.html#note-bytes-label">Note [Bytes label]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CLabel.hs.html#note-proc-point-local-block-entry-points">Note [Proc-point local block entry-points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmContFlowOpt.hs.html">Note [What is shortcutting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmContFlowOpt.hs.html#note-control-flow-optimisations">Note [Control-flow optimisations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmContFlowOpt.hs.html#note-shortcut-call-returns">Note [Shortcut call returns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmContFlowOpt.hs.html#note-shortcut-call-returns-and-proc-points">Note [Shortcut call returns and proc-points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmExpr.hs.html">Note [Old Area]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmExpr.hs.html#note-cmmstackslot-aliasing">Note [CmmStackSlot aliasing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmLayoutStack.hs.html">Note [Always false stack check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmNode.hs.html">Note [Foreign calls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmNode.hs.html#note-unsafe-foreign-calls-clobber-caller-save-registers">Note [Unsafe foreign calls clobber caller-save registers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmNode.hs.html#note-register-parameter-passing">Note [Register parameter passing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmNode.hs.html#note-safe-foreign-calls-clobber-stg-registers">Note [Safe foreign calls clobber STG registers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmOpt.hs.html">Note [Comparison operators]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmPipeline.hs.html">Note [Sinking after stack layout]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmProcPoint.hs.html">Note [Proc-point analysis]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmProcPoint.hs.html#note-non-existing-proc-points">Note [Non-existing proc-points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmProcPoint.hs.html#note-separate-adams-optimization">Note [Separate Adams optimization]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSink.hs.html">Note [dependent assignments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSink.hs.html#note-discard-during-inlining">Note [discard during inlining]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSink.hs.html#note-sinking-and-calls">Note [Sinking and calls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSink.hs.html#note-foreign-calls-clobber-heap">Note [Foreign calls clobber heap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSwitch.hs.html">Note [Cmm Switches, the general plan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSwitch.hs.html#note-jump-table-offset">Note [Jump Table Offset]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSwitch.hs.html#note-createswitchplan">Note [createSwitchPlan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/CmmSwitch.hs.html#note-cmmswitch-vs-cmmimplementswitchplans">Note [CmmSwitch vs. CmmImplementSwitchPlans]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/Debug.hs.html">Note [What is this unwinding business?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/Debug.hs.html#note-debugging-dwarf-unwinding-info">Note [Debugging DWARF unwinding info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/Debug.hs.html#note-unwind-pseudo-instruction-in-cmm">Note [Unwind pseudo-instruction in Cmm]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/Hoopl/Dataflow.hs.html">Note [Unreachable blocks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/SMRep.hs.html">Note [static constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cmm/SMRep.hs.html#note-static-nocaf-constructors">Note [Static NoCaf constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmBind.hs.html">Note [Selectors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmBind.hs.html#note-ap-thunks">Note [Ap thunks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmBind.hs.html#note-nodereg-clobbered-with-loopification">Note [NodeReg clobbered with loopification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmClosure.hs.html">Note [Data constructor dynamic tags]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmClosure.hs.html#note-gc-recovery">Note [GC recovery]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmClosure.hs.html#note-black-holing-non-updatable-thunks">Note [Black-holing non-updatable thunks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html">Note [Compiling case expressions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-case-on-bool">Note [case on bool]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-scrutinising-voidrep">Note [Scrutinising VoidRep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-dead-binder-optimisation">Note [Dead-binder optimisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-dodgy-unsafecoerce-1">Note [Dodgy unsafeCoerce 1]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-dodgy-unsafecoerce-2-3132">Note [Dodgy unsafeCoerce 2, #3132]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-handle-seq">Note [Handle seq#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-gc-for-conditionals">Note [GC for conditionals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-scrut-sequel">Note [scrut sequel]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-inlining-out-of-line-primops-and-heap-checks">Note [Inlining out-of-line primops and heap checks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-self-recursive-tail-calls">Note [Self-recursive tail calls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmExpr.hs.html#note-void-arguments-in-self-recursive-tail-calls">Note [Void arguments in self-recursive tail calls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmHeap.hs.html">Note [Single stack check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmHeap.hs.html#note-stack-usage">Note [Stack usage]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmHeap.hs.html#note-self-recursive-loop-header">Note [Self-recursive loop header]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmMonad.hs.html">Note [Virtual and real heap pointers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmPrim.hs.html">Note [Comparing stable names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../codeGen/StgCmmTicky.hs.html">Note [Ticky for slow calls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html">Note [exprArity invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-newtype-classes-and-eta-expansion">Note [Newtype classes and eta expansion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-exprarity-for-applications">Note [exprArity for applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-definition-of-arity">Note [Definition of arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-one-shot-lambdas">Note [One-shot lambdas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-dealing-with-bottom">Note [Dealing with bottom]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-newtype-arity">4. Note [Newtype arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-the-state-transformer-hack">Note [The state-transformer hack]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-state-hack-and-bottoming-functions">Note [State hack and bottoming functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-aritytype">Note [ArityType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-arity-analysis">Note [Arity analysis]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-eta-expanding-through-dictionaries">Note [Eta expanding through dictionaries]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-eta-expanding-thunks">Note [Eta expanding thunks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-abot-branches-use-max">Note [ABot branches: use max]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-combining-case-branches">Note [Combining case branches]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-no-crap-in-eta-expanded-code">Note [No crap in eta-expanded code]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-eta-expansion-for-join-points">Note [Eta expansion for join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-eta-expansion-and-sccs">Note [Eta expansion and SCCs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreArity.hs.html#note-eta-expansion-and-source-notes">Note [Eta expansion and source notes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreFVs.hs.html">Note [The FVAnn invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html">Note [GHC Formalism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-check-vs-lint">Note [check vs lint]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#summary-of-checks">Summary of checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-linting-function-types">Note [Linting function types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-linting-type-lets">Note [Linting type lets]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-bad-unsafe-coercion">Note [Bad unsafe coercion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-join-points">Note [Join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-linting-unfoldings-from-interfaces">Note [Linting Unfoldings from Interfaces]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-checking-for-inline-loop-breakers">Note [Checking for INLINE loop breakers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-no-alternatives-lint-check">Note [No alternatives lint check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-beta-redexes">Note [Beta redexes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-stupid-type-synonyms">Note [Stupid type synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-linting-rules">Note [Linting rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-rules-for-join-points">Note [Rules for join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-checking-for-global-ids">Note [Checking for global Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-checking-staticptrs">Note [Checking StaticPtrs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-type-substitution">Note [Type substitution]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreLint.hs.html#note-linting-type-synonym-applications">Note [Linting type synonym applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreMap.hs.html">Note [Binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreMap.hs.html#note-empty-case-alternatives">Note [Empty case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreMap.hs.html#id1">Note [Binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html">Note [The simple optimiser]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-exported-ids-and-trivial-rhss">Note [Exported Ids and trivial RHSs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-preserve-join-binding-arity">Note [Preserve join-binding arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-inline-prag-in-simplopt">Note [Inline prag in simplOpt]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-unfold-compulsory-unfoldings-in-lhss">Note [Unfold compulsory unfoldings in LHSs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-getting-the-map-coerce-rule-to-work">Note [Getting the map/coerce RULE to work]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-strictness-and-join-points">Note [Strictness and join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-unfolding-dfuns">Note [Unfolding DFuns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-dfun-arity-check">Note [DFun arity check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-exprislambda-maybe">Note [exprIsLambda_maybe]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreOpt.hs.html#note-collectbinderspushingco">Note [collectBindersPushingCo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html">Note [CorePrep invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-floating-out-of-top-level-bindings">Note [Floating out of top level bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-cafinfo-and-floating">Note [CafInfo and floating]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-join-points-and-floating">Note [Join points and floating]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-data-constructor-workers">Note [Data constructor workers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-dead-code-in-coreprep">Note [Dead code in CorePrep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-silly-extra-arguments">Note [Silly extra arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-arity-and-join-points">Note [Arity and join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-runrw-arg">Note [runRW arg]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-runrw-magic">Note [runRW magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-anf-ising-literal-string-arguments">Note [ANF-ising literal string arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-floating-unlifted-arguments">Note [Floating unlifted arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-eta-expansion">Note [Eta expansion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-eta-expansion-and-the-coreprep-invariants">Note [Eta expansion and the CorePrep invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-pin-demand-info-on-floats">Note [Pin demand info on floats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-inlining-in-coreprep">Note [Inlining in CorePrep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-coreprep-inlines-trivial-coreexpr-not-id">Note [CorePrep inlines trivial CoreExpr not Id]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CorePrep.hs.html#note-drop-unfoldings-and-rules">Note [Drop unfoldings and rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSubst.hs.html">Note [Extending the Subst]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSubst.hs.html#note-substitute-lazily">Note [Substitute lazily]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSubst.hs.html#note-substtickish">Note [substTickish]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSubst.hs.html#note-worker-inlining">Note [Worker inlining]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html">Note [Shadowing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-literal-alternatives">Note [Literal alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-variable-occurrences-in-core">Note [Variable occurrences in Core]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coresyn-letrec-invariant">Note [CoreSyn letrec invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coresyn-top-level-string-literals">Note [CoreSyn top-level string literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-compilation-plan-for-top-level-string-literals">Note [Compilation plan for top-level string literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coresyn-let-app-invariant">Note [CoreSyn let/app invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coresyn-type-and-coercion-invariant">Note [CoreSyn type and coercion invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coresyn-case-invariants">Note [CoreSyn case invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-levity-polymorphism-invariants">Note [Levity polymorphism invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coresyn-let-goal">Note [CoreSyn let goal]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-type-let">Note [Type let]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-empty-case-alternatives">Note [Empty case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-join-points">Note [Join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-invariants-on-join-points">Note [Invariants on join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-the-type-of-a-join-point">Note [The type of a join point]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-the-polymorphism-rule-of-join-points">Note [The polymorphism rule of join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-orphans">Note [Orphans]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-historical-note-unfoldings-for-wrappers">Note [Historical note: unfoldings for wrappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-dfun-unfoldings">Note [DFun unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-fragile-unfoldings">Note [Fragile unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-inlinestable">Note [InlineStable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-occinfo-in-unfoldings-and-rules">Note [OccInfo in unfoldings and rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreSyn.hs.html#note-coreprogram">Note [CoreProgram]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreTidy.hs.html">Note [Tidy IdInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreTidy.hs.html#note-preserve-evaluatedness">Note [Preserve evaluatedness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreTidy.hs.html#note-preserve-oneshotinfo">Note [Preserve OneShotInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html">Note [Top-level flag on inline rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-specialising-unfoldings">Note [Specialising unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-honour-inline-on-0-ary-bindings">Note [Honour INLINE on 0-ary bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-inline-pragmas-and-boring-contexts">Note [INLINE pragmas and boring contexts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-occurrence-analysis-of-unfoldings">Note [Occurrence analysis of unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-no-binder-swap-in-unfoldings">Note [No binder swap in unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-calculate-unfolding-guidance-on-the-non-occ-anal-d-expression">Note [Calculate unfolding guidance on the non-occ-anal'd expression]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-computing-the-size-of-an-expression">Note [Computing the size of an expression]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-do-not-inline-top-level-bottoming-functions">Note [Do not inline top-level bottoming functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-inline-for-small-functions">Note [INLINE for small functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-constructor-size-and-result-discount">Note [Constructor size and result discount]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-unboxed-tuple-size-and-result-discount">Note [Unboxed tuple size and result discount]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-function-and-non-function-discounts">Note [Function and non-function discounts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-literal-integer-size">Note [Literal integer size]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-addaltsize-result-discounts">Note [addAltSize result discounts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-discounts-and-thresholds">Note [Discounts and thresholds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-function-applications">Note [Function applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-certainlywillinline-be-careful-of-thunks">Note [certainlyWillInline: be careful of thunks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-certainlywillinline-inlinable">Note [certainlyWillInline: INLINABLE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-unfold-into-lazy-contexts-note-rhs-of-lets">Note [Unfold into lazy contexts], Note [RHS of lets]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-unsaturated-applications">Note [Unsaturated applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-things-to-watch">Note [Things to watch]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-inlining-an-inlinerule">Note [Inlining an InlineRule]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-nested-functions">Note [Nested functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-cast-then-apply">Note [Cast then apply]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-inlining-in-argctxt">Note [Inlining in ArgCtxt]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUnfold.hs.html#note-interaction-of-exprisworkfree-and-lone-variables">Note [Interaction of exprIsWorkFree and lone variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html">Note [Type bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-existential-variables-and-silly-type-synonyms">Note [Existential variables and silly type synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-binding-coercions">Note [Binding coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-unreachable-code">Note [Unreachable code]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-combine-identical-alternatives">Note [Combine identical alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-care-with-impossible-constructors-when-combining-alternatives">Note [Care with impossible-constructors when combining alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-getidfromtrivialexpr">Note [getIdFromTrivialExpr]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-bottoming-expressions">Note [Bottoming expressions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprisdupable">Note [exprIsDupable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprisworkfree">Note [exprIsWorkFree]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-case-expressions-are-work-free">Note [Case expressions are work-free]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprischeap-and-exprishnf">Note [exprIsCheap and exprIsHNF]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-arguments-and-let-bindings-exprischeapx">Note [Arguments and let-bindings exprIsCheapX]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprisexpandable">Note [exprIsExpandable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-ischeapapp-bottoming-functions">Note [isCheapApp: bottoming functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-isexpandableapp-bottoming-functions">Note [isExpandableApp: bottoming functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-record-selection">Note [Record selection]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-expandable-overloadings">Note [Expandable overloadings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprokforspeculation-case-expressions">Note [exprOkForSpeculation: case expressions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-primops-with-lifted-arguments">Note [Primops with lifted arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprokforspeculation-and-seqop-datatotagop">Note [exprOkForSpeculation and SeqOp/DataToTagOp]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprokforspeculation-and-evaluated-variables">Note [exprOkForSpeculation and evaluated variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-exprishnf-see-also-note-exprischeap-and-exprishnf">Note [exprIsHNF]             See also Note [exprIsCheap and exprIsHNF]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-mark-evaluated-arguments">Note [Mark evaluated arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-eta-reduction-conditions">Note [Eta reduction conditions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-eta-reduction-with-casted-arguments">Note [Eta reduction with casted arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/CoreUtils.hs.html#note-eta-reduction-of-an-eval-d-function">Note [Eta reduction of an eval'd function]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/MkCore.hs.html">Note [Flattening one-tuples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/MkCore.hs.html#note-absent-sum-field-error-id">Note [aBSENT_SUM_FIELD_ERROR_ID]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/MkCore.hs.html#note-error-and-friends-have-an-open-tyvar-forall">Note [Error and friends have an &quot;open-tyvar&quot; forall]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/MkCore.hs.html#note-absent-error-id">Note [aBSENT_ERROR_ID]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/PprCore.hs.html">Note [Print case as let]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coreSyn/PprCore.hs.html#note-binding-site-specific-printing">Note [Binding-site specific printing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html">Note [Recovering from unsatisfiable pattern-matching constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-type-normalisation-for-emptycase">Note [Type normalisation for EmptyCase]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-checking-emptycase-expressions">Note [Checking EmptyCase Expressions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-translate-overloaded-literal-for-exhaustiveness-checking">Note [Translate Overloaded Literal for Exhaustiveness Checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-guards-and-approximation">Note [Guards and Approximation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#n-k-patterns-pattern-synonyms">4. N+K Patterns &amp; Pattern Synonyms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-translate-copats">Note [Translate CoPats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-extensions-to-gadts-meet-their-match">Note [Extensions to GADTs Meet Their Match]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-filtering-out-non-matching-complete-sets">Note [Filtering out non-matching COMPLETE sets]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-coverage-checking-and-existential-tyvars">Note [Coverage checking and existential tyvars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-type-and-term-equality-propagation">Note [Type and Term Equality Propagation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-literals-in-pmpat">Note [Literals in PmPat]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-translating-as-patterns">Note [Translating As Patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-inaccessible-warnings-for-record-updates">Note [Inaccessible warnings for record updates]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Check.hs.html#note-representation-of-term-equalities">Note [Representation of Term Equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Desugar.hs.html">Note [Top-level evidence]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Desugar.hs.html#note-adding-export-flags">Note [Adding export flags]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Desugar.hs.html#note-attach-rules-to-local-ids">Note [Attach rules to local ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Desugar.hs.html#note-desugaring-rule-left-hand-sides">Note [Desugaring RULE left hand sides]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Desugar.hs.html#note-desugaring-coerce-as-cast">Note [Desugaring coerce as cast]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Desugar.hs.html#note-rules-and-inlining-other-rules">Note [Rules and inlining/other rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html">Note [Desugaring AbsBinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-rules-and-inlining">Note [Rules and inlining]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-specialising-in-no-dict-case">Note [Specialising in no-dict case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-abstracting-over-tyvars-only">Note [Abstracting over tyvars only]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-eta-expanding-inline-things">Note [Eta-expanding INLINE things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-nested-arities">Note [Nested arities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-desugar-strict-binds">Note [Desugar Strict binds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-strict-binds-checks">Note [Strict binds checks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-specialise-on-inline-functions">Note [SPECIALISE on INLINE functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-activation-pragmas-for-specialise">Note [Activation pragmas for SPECIALISE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-decomposing-the-left-hand-side-of-a-rule">Note [Decomposing the left-hand side of a RULE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-free-tyvars-on-rule-lhs">Note [Free tyvars on rule LHS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-free-dictionaries-on-rule-lhs">Note [Free dictionaries on rule LHS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-drop-dictionary-bindings-on-rule-lhs">Note [Drop dictionary bindings on rule LHS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-simplify-rule-lhs">Note [Simplify rule LHS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-matching-seqid">Note [Matching seqId]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-unused-spec-binders">Note [Unused spec binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsBinds.hs.html#note-no-rules-on-datacons">Note [No RULES on datacons]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsExpr.hs.html">Note [Desugaring vars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsExpr.hs.html#note-update-for-gadts">Note [Update for GADTs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsExpr.hs.html#note-desugaring-explicit-lists">Note [Desugaring explicit lists]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsExpr.hs.html#note-detecting-forced-eta-expansion">Note [Detecting forced eta expansion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsExpr.hs.html#wrinkle">Wrinkle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsMeta.hs.html">Note [Scoped type variables in bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsMeta.hs.html#note-scoped-type-variables-in-class-and-instance-declarations">Note [Scoped type variables in class and instance declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsMeta.hs.html#note-binders-and-occurrences">Note [Binders and occurrences]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsMeta.hs.html#note-don-t-quantify-implicit-type-variables-in-quotes">Note [Don't quantify implicit type variables in quotes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsMonad.hs.html">Note [Levity polymorphism checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsUtils.hs.html">Note [Localise pattern binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsUtils.hs.html#note-mkselectorbinds">Note [mkSelectorBinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsUtils.hs.html#note-failure-thunks-and-cpr">Note [Failure thunks and CPR]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/DsUtils.hs.html#note-decidebanghood">Note [decideBangHood]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html">Note [Match Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html#note-empty-case-alternatives">Note [Empty case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html#note-bang-patterns-and-newtypes">Note [Bang patterns and newtypes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html#note-don-t-use-literal-for-pgn">Note [Don't use Literal for PgN]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html#note-pattern-synonym-groups">Note [Pattern synonym groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html#note-take-care-with-pattern-order">Note [Take care with pattern order]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/Match.hs.html#note-grouping-overloaded-literal-patterns">Note [Grouping overloaded literal patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/MatchCon.hs.html">Note [Record patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/MatchCon.hs.html#note-existentials-in-shift-con-pat">Note [Existentials in shift_con_pat]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/MatchLit.hs.html">Note [Literal short cut]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/MatchLit.hs.html#note-suggest-negativeliterals">Note [Suggest NegativeLiterals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/PmExpr.hs.html">Note [PmExprOther in PmExpr]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/PmExpr.hs.html#note-undecidable-equality-for-overloaded-literals">Note [Undecidable Equality for Overloaded Literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deSugar/TmOracle.hs.html">Note [Deep equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ghci/ByteCodeGen.hs.html">Note [Implementing tagToEnum#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ghci/Linker.hs.html">Note [Crash early load_dyn and locateLib]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ghci/Linker.hs.html#note-fork-exec-windows">Note [Fork/Exec Windows]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ghci/RtClosureInspect.hs.html">Note [Constructor arg types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ghci/RtClosureInspect.hs.html#example">Example:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ghci/RtClosureInspect.hs.html#the-checks">The checks:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hieFile/HieTypes.hs.html">Note [Efficient serialization of redundant type info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/Convert.hs.html">Note [Dropping constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/Convert.hs.html#note-converting-uinfix">Note [Converting UInfix]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/Convert.hs.html#note-converting-strings">Note [Converting strings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/Convert.hs.html#note-binders-in-template-haskell">Note [Binders in Template Haskell]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/Convert.hs.html#note-pattern-synonym-type-signatures-and-template-haskell">Note [Pattern synonym type signatures and Template Haskell]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsBinds.hs.html">Note [AbsBinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsBinds.hs.html#note-polymorphic-recursion">Note [Polymorphic recursion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsBinds.hs.html#note-the-abs-sig-field-of-absbinds">Note [The abs_sig field of AbsBinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsBinds.hs.html#note-abexport-wrapper">Note [ABExport wrapper]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsBinds.hs.html#note-bind-free-vars">Note [Bind free vars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html">Note [The Naming story]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#implicit-or-system-binders">&quot;Implicit&quot; (or &quot;system&quot;) binders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#default-methods">Default methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#dictionary-functions">Dictionary functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-tyvar-binders-for-associated-decls">Note [TyVar binders for associated decls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-cusks-complete-user-supplied-kind-signatures">Note [CUSKs: complete user-supplied kind signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-tyclgroups-and-dependency-analysis">Note [TyClGroups and dependency analysis]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-familyresultsig">Note [FamilyResultSig]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-injectivity-annotation">Note [Injectivity annotation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-gadt-abstract-syntax">Note [GADT abstract syntax]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-type-family-instance-declarations-in-hssyn">Note [Type family instance declarations in HsSyn]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsDecls.hs.html#note-family-instance-declaration-binders">Note [Family instance declaration binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html">Note [CmdSyntaxtable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-outofscope-and-globalrdrenv">Note [OutOfScope and GlobalRdrEnv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-parens-in-hssyn">Note [Parens in HsSyn]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-sections-in-hssyn">Note [Sections in HsSyn]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-rebindable-if">Note [Rebindable if]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-record-update-hswrapper">Note [Record Update HsWrapper]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-located-rdrnames">Note [Located RdrNames]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-m-ctxt-in-match">Note [m_ctxt in Match]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-the-type-of-bind-in-stmts">Note [The type of bind in Stmts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-transstmt-binder-map">Note [TransStmt binder map]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-bodystmt">Note [BodyStmt]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-how-recstmt-works">Note [How RecStmt works]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-typing-a-recstmt">Note [Typing a RecStmt]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-monad-comprehensions">Note [Monad Comprehensions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExpr.hs.html#note-pending-splices">Note [Pending Splices]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExtension.hs.html">Note [Trees that grow]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsExtension.hs.html#note-outputablex">Note [OutputableX]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsImpExp.hs.html">Note [IEThingWith]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsLit.hs.html">Note [ol_rebindable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsLit.hs.html#note-overloaded-literal-witnesses">Note [Overloaded literal witnesses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsPat.hs.html">Note [DotDot fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsPat.hs.html#note-punning">Note [Punning]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsPat.hs.html#note-hsrecfield-and-hsrecupdfield">Note [HsRecField and HsRecUpdField]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsPat.hs.html#note-unboxed-sum-patterns-aren-t-irrefutable">Note [Unboxed sum patterns aren't irrefutable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html">Note [HsBSig binder lists]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-hstype-binders">Note [HsType binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-the-wildcard-story-for-types">Note [The wildcard story for types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-ordering-of-implicit-variables">Note [Ordering of implicit variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-representing-type-signatures">Note [Representing type signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-hsforallty-tyvar-binders">Note [HsForAllTy tyvar binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-unit-tuples">Note [Unit tuples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-promotions-hstyvar">Note [Promotions (HsTyVar)]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-hsstarty">Note [HsStarTy]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-promoted-lists-and-tuples">Note [Promoted lists and tuples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-distinguishing-tuple-kinds">Note [Distinguishing tuple kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-condeclfield-passs">Note [ConDeclField passs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-scoping-of-named-wildcards">Note [Scoping of named wildcards]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsTypes.hs.html#note-printing-kindedtyvars">Note [Printing KindedTyVars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsUtils.hs.html">Note [Kind signatures in typeToLHsType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsUtils.hs.html#note-collect-binders-only-after-renaming">Note [Collect binders only after renaming]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsUtils.hs.html#note-unlifted-id-check-in-isunliftedhsbind">Note [Unlifted id check in isUnliftedHsBind]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsUtils.hs.html#note-srcspan-for-binders">Note [SrcSpan for binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/HsUtils.hs.html#note-binders-in-family-instances">Note [Binders in family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hsSyn/PlaceHolder.hs.html">Note [Pass sensitive types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/BinIface.hs.html">Note [Symbol table representation of names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/BuildTyCl.hs.html">Note [Class newtypes and equality predicates]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html">Note [Versioning of instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-empty-case-alternatives">Note [Empty case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-expose-recursive-functions">Note [Expose recursive functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-idinfo-on-nested-let-bindings">Note [IdInfo on nested let-bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-printing-ifacedecl-binders">Note [Printing IfaceDecl binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-result-type-of-a-data-family-gadt">Note [Result type of a data family GADT]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-tracking-data-constructors">Note [Tracking data constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceSyn.hs.html#note-lazy-deserialization-of-ifaceid">Note [Lazy deserialization of IfaceId]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html">Note [Free tyvars in IfaceType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-equality-predicates-in-ifacetype">Note [Equality predicates in IfaceType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-holes-in-ifacecoercion">Note [Holes in IfaceCoercion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-substitution-on-ifacetype">Note [Substitution on IfaceType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-suppressing-invisible-arguments">Note [Suppressing invisible arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-pretty-printing-invisible-arguments">Note [Pretty-printing invisible arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-defaulting-runtimerep-variables">Note [Defaulting RuntimeRep variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-when-to-print-foralls">Note [When to print foralls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-printing-foralls-in-type-family-instances">Note [Printing foralls in type family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/IfaceType.hs.html#note-printing-promoted-type-constructors">Note [Printing promoted type constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/LoadIface.hs.html">Note [Loading instances for wired-in things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/LoadIface.hs.html#note-loading-your-own-hi-boot-file">Note [Loading your own hi-boot file]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/LoadIface.hs.html#note-hpt-space-leak-15111">Note [HPT space leak] (#15111)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/LoadIface.hs.html#note-home-module-load-error">Note [Home module load error]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/LoadIface.hs.html#note-name-qualification-with-show-iface">Note [Name qualification with --show-iface]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/MkIface.hs.html">Note [Fingerprinting IfaceDecls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/MkIface.hs.html#note-the-abi-of-an-ifacedecl">Note [The ABI of an IfaceDecl]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/MkIface.hs.html#note-original-module">Note [Original module]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/MkIface.hs.html#note-internal-used-names">Note [Internal used_names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/TcIface.hs.html">Note [Knot-tying typecheckIface]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/TcIface.hs.html#note-role-merging">Note [Role merging]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/TcIface.hs.html#note-resolving-never-exported-names-in-tciface">Note [Resolving never-exported Names in TcIface]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/TcIface.hs.html#note-synonym-kind-loop">Note [Synonym kind loop]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/TcIface.hs.html#note-tying-the-knot">Note [Tying the knot]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/TcIface.hs.html#note-knot-tying-fallback-on-boot">Note [Knot-tying fallback on boot]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iface/ToIface.hs.html">Note [Inlining and hs-boot files]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../llvmGen/Llvm/Types.hs.html">Note [LLVM Float Types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../llvmGen/Llvm/Types.hs.html#note-narrowfp-widenfp">Note [narrowFp &amp; widenFp]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../llvmGen/LlvmCodeGen/CodeGen.hs.html">Note [Literals and branch conditions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DriverPipeline.hs.html">Note [-Xlinker -rpath vs -Wl,-rpath]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DriverPipeline.hs.html#note-produce-big-objects-on-windows">Note [Produce big objects on Windows]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html">Note [Updating flag description in the User's Guide]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-supporting-cli-completion">Note [Supporting CLI completion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-adding-a-language-extension">Note [Adding a language extension]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-verbosity-levels">Note [Verbosity levels]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-when-is-staristype-enabled">Note [When is StarIsType enabled]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-documenting-optimisation-flags">Note [Documenting optimisation flags]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-eta-reduction-in-o0">Note [Eta-reduction in -O0]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-documenting-warning-flags">Note [Documenting warning flags]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-no-pie-while-linking">Note [No PIE while linking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/DynFlags.hs.html#note-dynflags-consistency">Note [DynFlags consistency]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/FileCleanup.hs.html">Note [Deterministic base name]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/GhcMake.hs.html">Note [Missing home modules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/GhcMake.hs.html#note-fno-code-mode">Note [-fno-code mode]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/GhcMake.hs.html#fwrite-interface">-fwrite-interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/GhcMake.hs.html#template-haskell">Template Haskell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/GhcMake.hs.html#potential-todos">Potential TODOS:</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/GhcMake.hs.html#note-recompilation-checking-in-fno-code-mode">Note [Recompilation checking in -fno-code mode]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html">Note [hsc_type_env_var hack]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-the-interactive-package">Note [The interactive package]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-interactively-bound-ids-in-ghci">Note [Interactively-bound Ids in GHCi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-ic-tythings">Note [ic_tythings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-override-identical-instances-in-ghci">Note [Override identical instances in GHCi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-printing-original-names">Note [Printing original names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-printing-unit-ids">Note [Printing unit ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-implicit-tythings">Note [Implicit TyThings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/HscTypes.hs.html#note-implementation-of-complete-signatures">Note [Implementation of COMPLETE signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/InteractiveEval.hs.html">Note [What to show to users]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/Plugins.hs.html">Note [Source plugins]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/PprTyThing.hs.html">Note [Pretty printing via IfaceSyn]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/StaticPtrTable.hs.html">Note [Grand plan for static forms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/SysTools.hs.html">Note [How GHC finds toolchain utilities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/SysTools.hs.html#note-bsymbolic-assumptions-by-ghc">Note [-Bsymbolic assumptions by GHC]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/SysTools/BaseDir.hs.html">Note [topdir: How GHC finds its files]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html">Note [Choosing external Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-tidy-the-top-level-bindings">Note [Tidy the top-level bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-don-t-attempt-to-trim-data-types">Note [Don't attempt to trim data types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-injecting-implicit-bindings">Note [Injecting implicit bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-finding-external-rules">Note [Finding external rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-which-rules-to-expose">Note [Which rules to expose]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-trimming-auto-rules">Note [Trimming auto-rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-disgusting-computation-of-cafrefs">Note [Disgusting computation of CafRefs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../main/TidyPgm.hs.html#note-when-we-can-t-trim-types">Note [When we can't trim types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nativeGen/AsmCodeGen.hs.html">Note [Unwinding information in the NCG]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nativeGen/PprBase.hs.html">Note [Embedding large binary blobs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nativeGen/PprBase.hs.html#note-pretty-print-ascii-when-asmcodegen">Note [Pretty print ASCII when AsmCodeGen]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nativeGen/RegAlloc/Graph/TrivColorable.hs.html">Note [accSqueeze]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/ApiAnnotation.hs.html">Note [Api annotations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html">Note [Parsing data constructors is hard]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-setrdrnamespace-for-wired-in-names">Note [setRdrNameSpace for wired-in names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-tyelkindapp-srcspan-interpretation">Note [TyElKindApp SrcSpan interpretation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-impossible-case-in-mergeops-clause-unpk">Note [Impossible case in mergeOps clause [unpk]]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-non-empty-acc-in-mergeops-clause-end">Note [Non-empty 'acc' in mergeOps clause [end]]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-isfunlhs-vs-mergedatacon">Note [isFunLhs vs mergeDataCon]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-ambiguous-syntactic-categories">Note [Ambiguous syntactic categories]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-resolving-parsing-ambiguities-non-taken-alternatives">Note [Resolving parsing ambiguities: non-taken alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parser/RdrHsSyn.hs.html#note-parser-validator">Note [Parser-Validator]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/KnownUniques.hs.html">Note [Uniques for tuple type and data constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelInfo.hs.html">Note [About wired-in things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelNames.hs.html">Note [Known-key names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelNames.hs.html#note-infinite-families-of-known-key-names">Note [Infinite families of known-key names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelNames.hs.html#note-the-integer-library">Note [The integer library]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html">Note [Constant folding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-rules-for-floating-point-comparisons">Note [Rules for floating-point comparisons]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-the-liteq-rule-converting-equality-to-case">Note [The litEq rule: converting equality to case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-guarding-against-silly-shifts">Note [Guarding against silly shifts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-strength-reduction">Note [Strength reduction]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-what-s-true-and-false">Note [What's true and false]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-tagtoenum">Note [tagToEnum#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-datatotag-magic">Note [dataToTag# magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-seq-magic">Note [seq# magic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-scoping-for-builtin-rules">Note [Scoping for Builtin rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-rewriting-bitinteger">Note [Rewriting bitInteger]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-caserules-for-tagtoenum">Note [caseRules for tagToEnum]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-caserules-for-datatotag">Note [caseRules for dataToTag]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrelRules.hs.html#note-unreachable-caserules-alternatives">Note [Unreachable caseRules alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrimOp.hs.html">Note [PrimOp can_fail and has_side_effects]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrimOp.hs.html#note-transformations-affected-by-can-fail-and-has-side-effects">Note [Transformations affected by can_fail and has_side_effects]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrimOp.hs.html#note-implementation-how-can-fail-has-side-effects-affect-transformations">Note [Implementation: how can_fail/has_side_effects affect transformations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/PrimOp.hs.html#note-primopischeap">Note [primOpIsCheap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysPrim.hs.html">Note [TYPE and RuntimeRep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysPrim.hs.html#note-primrep-and-kindprimrep">Note [PrimRep and kindPrimRep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysPrim.hs.html#note-the-equality-types-story">Note [The equality types story]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysPrim.hs.html#note-the-state-tycon">Note [The State# TyCon]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysWiredIn.hs.html">Note [Wiring in RuntimeRep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysWiredIn.hs.html#note-any-types">Note [Any types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysWiredIn.hs.html#note-one-tuples">Note [One-tuples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../prelude/TysWiredIn.hs.html#note-boxing-primitive-types">Note [Boxing primitive types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnBinds.hs.html">Note [Pattern bindings that bind no variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnBinds.hs.html#note-free-variable-space-leak">Note [Free-variable space leak]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnBinds.hs.html#note-renaming-pattern-synonym-variables">Note [Renaming pattern synonym variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnBinds.hs.html#note-pattern-synonym-builders-don-t-yield-dependencies">Note [Pattern synonym builders don't yield dependencies]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnBinds.hs.html#note-orphan-complete-pragmas">Note [Orphan COMPLETE pragmas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html">Note [Signature lazy interface loading]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-type-and-class-operator-definitions">Note [Type and class operator definitions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-disambiguaterecordfields">Note [DisambiguateRecordFields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-fall-back-on-lookupglobaloccrn-in-lookuprecfieldocc">Note [Fall back on lookupGlobalOccRn in lookupRecFieldOcc]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-family-instance-binders">Note [Family instance binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-looking-up-exact-rdrnames">Note [Looking up Exact RdrNames]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-splicing-exact-names">Note [Splicing Exact names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-template-haskell-ambiguity">Note [Template Haskell ambiguity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-usage-for-sub-bndrs">Note [Usage for sub-bndrs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-promoted-variables-in-types">Note [Promoted variables in types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-demotion">Note [Demotion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-handling-of-deprecations">Note [Handling of deprecations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-used-names-with-interface-not-loaded">Note [Used names with interface not loaded]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-safe-haskell-and-ghci">Note [Safe Haskell and GHCi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-looking-up-signature-names">Note [Looking up signature names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-signatures-for-top-level-things">Note [Signatures for top level things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnEnv.hs.html#note-datatcoccs-and-exact-names">Note [dataTcOccs and Exact Names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnExpr.hs.html">Note [Deterministic ApplicativeDo and RecursiveDo desugaring]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnExpr.hs.html#note-failing-pattern-matches-in-stmts">Note [Failing pattern matches in Stmts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnExpr.hs.html#note-renaming-parallel-stmts">Note [Renaming parallel Stmts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnExpr.hs.html#note-segmenting-mdo">Note [Segmenting mdo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnExpr.hs.html#note-glomming-segments">Note [Glomming segments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnExpr.hs.html#note-monad-fail-rebindable-syntax-overloaded-strings">Note [Monad fail : Rebindable syntax, overloaded strings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnFixity.hs.html">Note [Fixity signature lookup]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html">Note [Tracking Trust Transitively]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-trust-own-package">Note [Trust Own Package]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-trust-transitive-property">Note [Trust Transitive Property]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-combining-importavails">Note [Combining ImportAvails]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-top-level-names-in-template-haskell-decl-quotes">Note [Top-level Names in Template Haskell decl quotes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-looking-up-family-names-in-family-instances">Note [Looking up family names in family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-dealing-with-imports">Note [Dealing with imports]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-children-for-duplicate-record-fields">Note [Children for duplicate record fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-the-importmap">Note [The ImportMap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-do-not-warn-about-prelude-hiding">Note [Do not warn about Prelude hiding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-printing-minimal-imports">Note [Printing minimal imports]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-partial-export">Note [Partial export]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnNames.hs.html#note-overloaded-field-import">Note [Overloaded field import]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnPat.hs.html">Note [CpsRn monad]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnPat.hs.html#note-patterns-are-uses">Note [Patterns are uses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnPat.hs.html#note-view-pattern-usage">Note [View pattern usage]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnPat.hs.html#note-don-t-report-shadowing-for-pattern-synonyms">Note [Don't report shadowing for pattern synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnPat.hs.html#note-negative-zero">Note [Negative zero]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html">Note [Wildcards in family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-unused-type-variables-in-family-instances">Note [Unused type variables in family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-renaming-associated-types">Note [Renaming associated types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-rule-lhs-validity-checking">Note [Rule LHS validity checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-role-annotations-in-the-renamer">Note [Role annotations in the renamer]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-floating-via-type-variables">Note [Floating <cite>via</cite> type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-renaming-injectivity-annotation">Note [Renaming injectivity annotation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSource.hs.html#note-stupid-theta">Note [Stupid theta]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html">Note [Free variables of typed splices]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-renamer-errors">Note [Renamer errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-running-splices-in-the-renamer">Note [Running splices in the Renamer]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-delaying-modfinalizers-in-untyped-splices">Note [Delaying modFinalizers in untyped splices]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-partial-type-splices">Note [Partial Type Splices]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-rnsplicepat">Note [rnSplicePat]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-keeping-things-alive-for-template-haskell">Note [Keeping things alive for Template Haskell]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnSplice.hs.html#note-quoting-names">Note [Quoting names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html">Note [Renaming named wild cards]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-qualty-in-kinds">Note [QualTy in kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-bindhsqtyvars-examples">Note [bindHsQTyVars examples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-kind-variable-scoping">Note [Kind variable scoping]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-variables-used-as-both-types-and-kinds">Note [Variables used as both types and kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-kind-and-type-variable-binders">Note [Kind and type-variable binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-ordering-of-implicit-variables">Note [Ordering of implicit variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-implicit-quantification-in-type-synonyms">Note [Implicit quantification in type synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rename/RnTypes.hs.html#note-implicit-quantification-in-type-synonyms-non-taken-alternatives">Note [Implicit quantification in type synonyms: non-taken alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html">Note [Shadowing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-cse-for-bindings">Note [CSE for bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-cse-for-case-expressions">Note [CSE for case expressions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-cse-for-inline-and-noinline">Note [CSE for INLINE and NOINLINE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-cse-for-stable-unfoldings">Note [CSE for stable unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-corner-case-for-case-expressions">Note [Corner case for case expressions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-cse-for-join-points">Note [CSE for join points?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-look-inside-join-point-binders">Note [Look inside join-point binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-cse-for-recursive-bindings">Note [CSE for recursive bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-take-care-with-literal-strings">Note [Take care with literal strings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-delay-inlining-after-cse">Note [Delay inlining after CSE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CSE.hs.html#note-combine-case-alternatives">Note [Combine case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html">Note [Call Arity: The goal]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-analysis-type-signature">Note [Analysis type signature]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-which-variables-are-interesting">Note [Which variables are interesting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-taking-boring-variables-into-account">Note [Taking boring variables into account]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-recursion-and-fixpointing">Note [Recursion and fixpointing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-thunks-in-recursive-groups">Note [Thunks in recursive groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-analysing-top-level-binds">Note [Analysing top-level binds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-trimming-arity">Note [Trimming arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-what-is-a-thunk">Note [What is a thunk]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CallArity.hs.html#note-call-arity-and-join-points">Note [Call Arity and Join Points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CoreMonad.hs.html">Note [Which transformations are innocuous]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/CoreMonad.hs.html#note-annotations">Note [Annotations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html">Note [Exitification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-interesting-expression">Note [Interesting expression]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-jumps-can-be-interesting">Note [Jumps can be interesting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-idempotency">Note [Idempotency]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-calculating-free-variables">Note [Calculating free variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-do-not-inline-exit-join-points">Note [Do not inline exit join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-placement-of-the-exitification-pass">Note [Placement of the exitification pass]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Exitify.hs.html#note-picking-arguments-to-abstract-over">Note [Picking arguments to abstract over]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html">Note [Dead bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-do-not-destroy-the-let-app-invariant">Note [Do not destroy the let/app invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-join-points">Note [Join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-floating-in-past-a-lambda-group">Note [Floating in past a lambda group]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-floating-coercions">Note [Floating coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-extra-fvs-1-avoid-floating-into-rhs">Note [extra_fvs (1): avoid floating into RHS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-extra-fvs-2-free-variables-of-rules">Note [extra_fvs (2): free variables of rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-floating-primops">Note [Floating primops]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-nofloatinto-considerations">Note [noFloatInto considerations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatIn.hs.html#note-duplicating-floats">Note [Duplicating floats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatOut.hs.html">Note [Join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatOut.hs.html#note-floating-out-of-rec-rhss">Note [Floating out of Rec rhss]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatOut.hs.html#note-floatbind-for-top-level">Note [floatBind for top level]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatOut.hs.html#note-floating-past-breakpoints">Note [Floating past breakpoints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatOut.hs.html#note-avoiding-unnecessary-floating">Note [Avoiding unnecessary floating]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/FloatOut.hs.html#note-representation-of-floatbinds">Note [Representation of FloatBinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html">Note [Scrutinee with cast]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#to-think-about-apr-94">To think about (Apr 94)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#data-types">Data types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#note-not-bottoming-ids">Note [Not bottoming Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#note-only-functions">Note [Only functions!]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#note-small-enough">Note [Small enough]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#note-need-to-localiseid-in-libcasebind">Note [Need to localiseId in libCaseBind]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#expressions">Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#note-when-to-specialise">Note [When to specialise]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/LiberateCase.hs.html#note-avoiding-fruitless-liberate-case">Note [Avoiding fruitless liberate-case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html">Note [Plugin rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-recursive-bindings-the-grand-plan">Note [Recursive bindings: the grand plan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-dead-code">Note [Dead code]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-forming-rec-groups">Note [Forming Rec groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-choosing-loop-breakers">Note [Choosing loop breakers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-rules-for-imported-functions">Note [Rules for imported functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-preventing-loops-due-to-imported-functions-rules">Note [Preventing loops due to imported functions rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-specialising-imported-functions-referred-to-from-specialise">Note [Specialising imported functions] (referred to from Specialise)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-glomming">Note [Glomming]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-inline-rules">Note [Inline rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#example-eftint">Example [eftInt]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-specialisation-rules">Note [Specialisation rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-finding-join-points">Note [Finding join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-rules-and-join-points">Note [Rules and join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-adjusting-right-hand-sides">Note [Adjusting right-hand sides]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-unfoldings-and-join-points">Note [Unfoldings and join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-complexity-of-loop-breaking">Note [Complexity of loop breaking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-loop-breakers-and-inline-inlinable-pragmas">Note [Loop breakers and INLINE/INLINABLE pragmas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-dfuns-should-not-be-loop-breakers">Note [DFuns should not be loop breakers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-constructor-applications">Note [Constructor applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-closure-conversion">Note [Closure conversion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-self-recursion-and-loop-breakers">Note [Self-recursion and loop breakers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-loop-breakers-node-scoring-and-stability">Note [Loop breakers, node scoring, and stability]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-join-point-rhss">Note [Join point RHSs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-cascading-inlines">Note [Cascading inlines]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-gather-occurrences-of-coercion-variables">Note [Gather occurrences of coercion variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-arguments-of-let-bound-constructors">Note [Arguments of let-bound constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-sources-of-one-shot-information">Note [Sources of one-shot information]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-oneshots">Note [OneShots]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-binders-in-case-alternatives">Note [Binders in case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-binder-swap">Note [Binder swap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-case-of-cast">Note [Case of cast]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-binder-swap-on-globalid-scrutinees">Note [Binder swap on GlobalId scrutinees]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-zap-case-binders-in-proxy-bindings">Note [Zap case binders in proxy bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#historical-note-no-case-of-case">Historical note [no-case-of-case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#historical-note-suppressing-the-case-binder-swap">Historical note [Suppressing the case binder-swap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-usagedetails-and-zapping">Note [UsageDetails and zapping]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-do-not-mark-covars-as-dead">Note [Do not mark CoVars as dead]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/OccurAnal.hs.html#note-join-points-and-inline-pragmas">Note [Join points and INLINE pragmas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SAT.hs.html">Note [Shadow binding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SAT.hs.html#note-binder-type-capture">Note [Binder type capture]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html">Note [FloatOut inside INLINE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-join-ceiling">Note [Join ceiling]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-over-saturated-applications">Note [Floating over-saturated applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-single-alternative-cases">Note [Floating single-alternative cases]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-check-the-output-scrutinee-for-exprishnf">Note [Check the output scrutinee for exprIsHNF]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-to-the-top">Note [Floating to the top]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-join-point-bindings">Note [Floating join point bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-free-join-points">Note [Free join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-mfes-of-unlifted-type">Note [Floating MFEs of unlifted type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-test-cheapness-with-exprokforspeculation">Note [Test cheapness with exprOkForSpeculation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-bottoming-floats">Note [Bottoming floats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-bottoming-floats-eta-expansion-c-f-note-bottoming-floats">Note [Bottoming floats: eta expansion] c.f Note [Bottoming floats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-case-mfes">Note [Case MFEs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-literals">Note [Floating literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-escaping-a-value-lambda">Note [Escaping a value lambda]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-from-a-rhs">Note [Floating from a RHS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-floating-and-kind-casts">Note [Floating and kind casts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-le-subst-and-le-env">Note [le_subst and le_env]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SetLevels.hs.html#note-zapping-the-demand-info">Note [Zapping the demand info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html">Note [Inline in InitialPhase]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html#note-rules-enabled-in-simplgently">Note [RULEs enabled in SimplGently]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html#note-messing-up-the-exported-id-s-rules">Note [Messing up the exported Id's RULES]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html#note-rules-and-indirection-zapping">Note [Rules and indirection-zapping]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html#other-remarks">Other remarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html#note-indirection-zapping-and-ticks">Note [Indirection zapping and ticks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplCore.hs.html#note-transferring-idinfo">Note [Transferring IdInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html">Note [SimplEnv invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-join-arity-in-simplidsubst">Note [Join arity in SimplIdSubst]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-wildcard-binders">Note [WildCard binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-setting-the-right-in-scope-set">Note [Setting the right in-scope set]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-letfloats">Note [LetFloats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-float-when-cheap-or-expandable">Note [Float when cheap or expandable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-global-ids-in-the-substitution">Note [Global Ids in the substitution]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-return-type-for-join-points">Note [Return type for join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-arity-robustness">Note [Arity robustness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplEnv.hs.html#note-robust-occinfo">Note [Robust OccInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html">Note [StaticEnv invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-dupflag-invariants">Note [DupFlag invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-the-hole-type-in-applytoty">Note [The hole type in ApplyToTy]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-do-not-expose-strictness-if-sm-inline-false">Note [Do not expose strictness if sm_inline=False]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-interesting-call-context">Note [Interesting call context]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-no-case-of-case-is-boring">Note [No case of case is boring]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-interesting-arguments">Note [Interesting arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-conlike-is-interesting">Note [Conlike is interesting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-simplifying-rules">Note [Simplifying rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-no-eta-expansion-in-stable-unfoldings">Note [No eta expansion in stable unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-inlining-in-gentle-mode">Note [Inlining in gentle mode]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-simplifying-inside-stable-unfoldings">Note [Simplifying inside stable unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#a-note-about-wrappers">A note about wrappers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-pre-postinlineunconditionally-in-gentle-mode">Note [pre/postInlineUnconditionally in gentle mode]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-stable-unfoldings-and-preinlineunconditionally">Note [Stable unfoldings and preInlineUnconditionally]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-top-level-bottoming-ids">Note [Top-level bottoming Ids]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-do-not-inline-covars-unconditionally">Note [Do not inline CoVars unconditionally]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-top-level-and-postinlineunconditionally">Note [Top level and postInlineUnconditionally]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-stable-unfoldings-and-postinlineunconditionally">Note [Stable unfoldings and postInlineUnconditionally]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-eta-expanding-lambdas">Note [Eta expanding lambdas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-casts-and-lambdas">Note [Casts and lambdas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-eta-expanding-at-let-bindings">Note [Eta-expanding at let bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-do-not-eta-expand-join-points">Note [Do not eta-expand join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-do-not-eta-expand-paps">Note [Do not eta-expand PAPs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-floating-and-type-abstraction">Note [Floating and type abstraction]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-which-type-variables-to-abstract-over">Note [Which type variables to abstract over]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-abstract-over-coercions">Note [Abstract over coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-merge-nested-cases">Note [Merge Nested Cases]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-eliminate-identity-case">Note [Eliminate Identity Case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-scrutinee-constant-folding">Note [Scrutinee Constant Folding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-literal-cases">Note [Literal cases]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-dead-binders">Note [Dead binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/SimplUtils.hs.html#note-cascading-case-merge">Note [Cascading case merge]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html">Note [The big picture]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-shadowing">Note [Shadowing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#eta-expansion">Eta expansion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-float-coercions">Note [Float coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-preserve-strictness-when-floating-coercions">Note [Preserve strictness when floating coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-float-coercions-unlifted">Note [Float coercions (unlifted)]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-trivial-after-preparerhs">Note [Trivial after prepareRhs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-cannot-trivialise">Note [Cannot trivialise]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-arity-decrease">Note [Arity decrease]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-bottoming-bindings">Note [Bottoming bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-setting-the-demand-info">Note [Setting the demand info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-avoiding-space-leaks-in-outtype">Note [Avoiding space leaks in OutType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-optimising-reflexivity">Note [Optimising reflexivity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-avoiding-exponential-behaviour">Note [Avoiding exponential behaviour]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-zap-unfolding-when-beta-reducing">Note [Zap unfolding when beta-reducing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-rules-and-unfolding-for-join-points">Note [Rules and unfolding for join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-join-points-and-case-of-case">Note [Join points and case-of-case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-join-points-wih-fno-case-of-case">Note [Join points wih -fno-case-of-case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-trying-rewrite-rules">Note [Trying rewrite rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-rules-apply-to-simplified-arguments">Note [RULES apply to simplified arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-avoid-redundant-simplification">Note [Avoid redundant simplification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#id11">Note [Shadowing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-user-defined-rules-for-seq">Note [User-defined RULES for seq]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-occurrence-analyse-after-rule-firing">Note [Occurrence-analyse after rule firing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-optimising-tagtoenum">Note [Optimising tagToEnum#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-rules-for-recursive-functions">Note [Rules for recursive functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-case-elimination">Note [Case elimination]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-case-to-let-transformation">Note [Case to let transformation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-case-to-let-for-strictly-used-binders">Note [Case-to-let for strictly-used binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#further-notes-about-case-elimination">Further notes about case elimination</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-floatbinds-from-constructor-wrappers">Note [FloatBinds from constructor wrappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-knowncon-occ-info">Note [knownCon occ info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-case-alternative-occ-info">Note [Case alternative occ info]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-improving-seq">Note [Improving seq]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-adding-evaluatedness-info-to-pattern-bound-variables">Note [Adding evaluatedness info to pattern-bound variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-case-binder-evaluated-ness">Note [Case binder evaluated-ness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-add-unfolding-for-scrutinee">Note [Add unfolding for scrutinee]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-bottom-alternatives">Note [Bottom alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-fusing-case-continuations">Note [Fusing case continuations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-case-binders-and-join-points">Note [Case binders and join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-duplicated-env">Note [Duplicated env]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-small-alternative-rhs">Note [Small alternative rhs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-funky-mklamtypes">Note [Funky mkLamTypes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-duplicating-strictarg">Note [Duplicating StrictArg]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-duplicating-strictbind">Note [Duplicating StrictBind]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-join-point-abstraction-historical-note">Note [Join point abstraction]  Historical note</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-force-bottoming-field">Note [Force bottoming field]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-setting-the-new-unfolding">Note [Setting the new unfolding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplCore/Simplify.hs.html#note-rules-in-a-letrec">Note [Rules in a letrec]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgCse.hs.html">Note [All alternatives are the binder]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgCse.hs.html#note-trivial-case-scrutinee">Note [Trivial case scrutinee]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgCse.hs.html#note-free-variables-of-an-stgclosure">Note [Free variables of an StgClosure]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgLiftLams.hs.html">Note [Late lambda lifting in STG]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgLiftLams/Analysis.hs.html">Note [When to lift]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgLiftLams/Analysis.hs.html#note-estimating-closure-growth">Note [Estimating closure growth]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/StgLiftLams/LiftM.hs.html">Note [Handling floats]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/UnariseStg.hs.html">Note [Unarisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/UnariseStg.hs.html#note-translating-unboxed-sums-to-unboxed-tuples">Note [Translating unboxed sums to unboxed tuples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/UnariseStg.hs.html#note-types-in-stgconapp">Note [Types in StgConApp]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/UnariseStg.hs.html#note-unariseenv-can-map-to-literals">Note [UnariseEnv can map to literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/UnariseStg.hs.html#note-unarisation-and-arity">Note [Unarisation and arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../simplStg/UnariseStg.hs.html#note-post-unarisation-invariants">Note [Post-unarisation invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html">Note [Overall plumbing for rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-care-with-roughtopname">Note [Care with roughTopName]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-where-rules-are-found">Note [Where rules are found]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-extra-args-in-rule-matching">Note [Extra args in rule matching]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-unbound-rule-binders">Note [Unbound RULE binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-cloning-the-template-binders">Note [Cloning the template binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-expanding-variables">Note [Expanding variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-do-not-expand-locally-bound-variables">Note [Do not expand locally-bound variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-tick-annotations-in-rule-matching">Note [Tick annotations in RULE matching]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-matching-lets">Note [Matching lets]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-matching-cases">Note [Matching cases]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Rules.hs.html#note-lookup-in-scope">Note [Lookup in-scope]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html">Note [Reboxing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-good-arguments">Note [Good arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#what-to-abstract-over">What to abstract over</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-shadowing">Note [Shadowing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-specialising-for-constant-parameters">Note [Specialising for constant parameters]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-specialising-for-lambda-parameters">Note [Specialising for lambda parameters]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-specconstr-for-casts">Note [SpecConstr for casts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-local-recursive-groups">Note [Local recursive groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-seeding-top-level-recursive-groups">Note [Seeding top-level recursive groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-top-level-recursive-groups">Note [Top-level recursive groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-do-not-specialise-diverging-functions">Note [Do not specialise diverging functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-forcing-specialisation">Note [Forcing specialisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#alternatives-to-forcespecconstr">Alternatives to ForceSpecConstr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-limit-recursive-specialisation">Note [Limit recursive specialisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-nospecconstr">Note [NoSpecConstr]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#example-1">Example 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#example-2">Example 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-work-free-values-only-in-environment">Note [Work-free values only in environment]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-making-specconstr-keener">Note [Making SpecConstr keener]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-add-scrutinee-to-valueenv-too">Note [Add scrutinee to ValueEnv too]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-avoiding-exponential-blowup">Note [Avoiding exponential blowup]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-local-let-bindings">Note [Local let bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-spec-usg-includes-rhs-usg">Note [spec_usg includes rhs_usg]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-specialise-original-body">Note [Specialise original body]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-transfer-activation">Note [Transfer activation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-transfer-strictness">Note [Transfer strictness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-strictness-information-in-worker-binders">Note [Strictness information in worker binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-free-type-variables-of-the-qvar-types">Note [Free type variables of the qvar types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-specconstr-call-patterns">Note [SpecConstr call patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-choosing-patterns">Note [Choosing patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-specconstr-and-casts">Note [SpecConstr and casts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/SpecConstr.hs.html#note-ignore-type-differences">Note [Ignore type differences]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html">Note [Wrap bindings returned by specImports]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-disabling-cross-module-specialisation">Note [Disabling cross-module specialisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-warning-about-missed-specialisations">Note [Warning about missed specialisations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-specialise-imported-inlinable-things">Note [Specialise imported INLINABLE things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-glom-the-bindings-if-imported-functions-are-specialised">Note [Glom the bindings if imported functions are specialised]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-avoiding-recursive-specialisation">Note [Avoiding recursive specialisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-floating-dictionaries-out-of-cases">Note [Floating dictionaries out of cases]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-account-for-casts-in-binding">Note [Account for casts in binding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-evidence-foralls">Note [Evidence foralls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-orphans-and-auto-generated-rules">Note [Orphans and auto-generated rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-make-the-new-dictionaries-interesting">Note [Make the new dictionaries interesting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-from-non-recursive-to-recursive">Note [From non-recursive to recursive]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-avoiding-loops">Note [Avoiding loops]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-specialising-a-recursive-group">Note [Specialising a recursive group]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-specialisations-already-covered">Note [Specialisations already covered]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-auto-specialisation-and-rules">Note [Auto-specialisation and RULES]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-specialisation-shape">Note [Specialisation shape]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-inline-specialisations">Note [Inline specialisations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-floated-dictionary-bindings">Note [Floated dictionary bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-type-determines-value">Note [Type determines value]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specialise/Specialise.hs.html#note-interesting-dictionary-arguments">Note [Interesting dictionary arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/CoreToStg.hs.html">Note [Live vs free]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/CoreToStg.hs.html#note-what-are-these-srts-all-about">Note [What are these SRTs all about?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/CoreToStg.hs.html#note-what-is-a-non-escaping-let">Note [What is a non-escaping let]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/CoreToStg.hs.html#note-cost-centre-initialization-plan">Note [Cost-centre initialization plan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/CoreToStg.hs.html#note-collect-args">Note [Collect args]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/StgFVs.hs.html">Note [Tracking local binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stgSyn/StgSyn.hs.html">Note [CAF consistency]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html">Note [Stamp out space leaks in demand analysis]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-ensure-demand-is-strict">Note [Ensure demand is strict]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-io-hack-in-the-demand-analyser">Note [IO hack in the demand analyser]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-demand-on-the-scrutinee-of-a-product-case">Note [Demand on the scrutinee of a product case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-aggregated-demand-for-cardinality">Note [Aggregated demand for cardinality]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-safe-abortion-in-the-fixed-point-iteration">Note [Safe abortion in the fixed-point iteration]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-demand-analysis-for-join-points">Note [Demand analysis for join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-demand-analysis-for-trivial-right-hand-sides">Note [Demand analysis for trivial right-hand sides]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-product-demands-for-function-body">Note [Product demands for function body]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-do-not-strictify-the-argument-dictionaries-of-a-dfun">Note [Do not strictify the argument dictionaries of a dfun]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-cpr-for-sum-types">Note [CPR for sum types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-cpr-for-thunks">Note [CPR for thunks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-optimistic-cpr-in-the-virgin-case">Note [Optimistic CPR in the &quot;virgin&quot; case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-noinline-and-strictness">Note [NOINLINE and strictness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-lazy-and-unleashable-free-variables">Note [Lazy and unleashable free variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-lambda-bound-unfoldings">Note [Lambda-bound unfoldings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-cpr-in-a-product-case-alternative">Note [CPR in a product case alternative]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-initial-cpr-for-strict-binders">Note [Initial CPR for strict binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-cpr-examples">Note [CPR examples]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-initialising-strictness">Note [Initialising strictness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/DmdAnal.hs.html#note-final-demand-analyser-run">Note [Final Demand Analyser run]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html">Note [Don't w/w INLINE things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-worker-wrapper-for-inlinable-functions">Note [Worker-wrapper for INLINABLE functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-worker-wrapper-for-noinline-functions">Note [Worker-wrapper for NOINLINE functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-worker-activation">Note [Worker activation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-don-t-w-w-inline-small-non-loop-breaker-things">Note [Don't w/w inline small non-loop-breaker things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-don-t-cpr-join-points">Note [Don't CPR join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-wrapper-activation">Note [Wrapper activation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-wrapper-nouserinline">Note [Wrapper NoUserInline]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-zapping-dmdenv-after-demand-analyzer">Note [Zapping DmdEnv after Demand Analyzer]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-zapping-used-once-info-in-workwrap">Note [Zapping Used Once info in WorkWrap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-demand-on-the-worker">Note [Demand on the worker]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-do-not-split-void-functions">Note [Do not split void functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WorkWrap.hs.html#note-thunk-splitting">Note [Thunk splitting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html">Note [Always do CPR w/w]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-limit-w-w-arity">Note [Limit w/w arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-protecting-the-last-value-argument">Note [Protecting the last value argument]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-join-points-and-beta-redexes">Note [Join points and beta-redexes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-join-points-returning-functions">Note [Join points returning functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-freshen-ww-arguments">Note [Freshen WW arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-unpacking-arguments-with-product-and-polymorphic-demands">Note [Unpacking arguments with product and polymorphic demands]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-how-to-do-the-worker-wrapper-split">Note [How to do the worker/wrapper split]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-worker-wrapper-for-bottoming-functions">Note [Worker-wrapper for bottoming functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-add-demands-for-strict-constructors">Note [Add demands for strict constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-mkwwstr-and-unsafecoerce">Note [mkWWstr and unsafeCoerce]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-record-evaluated-ness-in-worker-wrapper">Note [Record evaluated-ness in worker/wrapper]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-do-not-unpack-class-dictionaries">Note [Do not unpack class dictionaries]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-non-algebraic-or-open-body-type-warning">Note [non-algebraic or open body type warning]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-profiling-and-unpacking">Note [Profiling and unpacking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stranal/WwLib.hs.html#note-absent-errors">Note [Absent errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html">Note [Shortcut solving: overlap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html#note-knownnat-knownsymbol-and-evlit">Note [KnownNat &amp; KnownSymbol and EvLit]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html#note-fabricating-evidence-for-literals-in-backpack">Note [Fabricating Evidence for Literals in Backpack]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html#note-typeable-t-a-b-c">Note [Typeable (T a b c)]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html#note-no-typeable-for-polytypes-or-qualified-types">Note [No Typeable for polytypes or qualified types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html#note-typeable-for-nat-and-symbol">Note [Typeable for Nat and Symbol]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/ClsInst.hs.html#note-hasfield-instances">Note [HasField instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FamInst.hs.html">Note [The type family instance consistency story]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FamInst.hs.html#note-checking-family-instance-consistency">Note [Checking family instance consistency]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FamInst.hs.html#note-checking-family-instance-optimization">Note [Checking family instance optimization]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FamInst.hs.html#note-home-package-family-instances">Note [Home package family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FunDeps.hs.html">Note [Coverage condition]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FunDeps.hs.html#note-closing-over-kinds-in-coverage">Note [Closing over kinds in coverage]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FunDeps.hs.html#note-the-liberal-coverage-condition">Note [The liberal coverage condition]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FunDeps.hs.html#note-equality-superclasses">Note [Equality superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/FunDeps.hs.html#note-care-with-type-functions">Note [Care with type functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/Inst.hs.html">Note [Deep skolemisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/Inst.hs.html#note-handling-boxed-equality">Note [Handling boxed equality]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/Inst.hs.html#note-signature-files-and-type-class-instances">Note [Signature files and type class instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcArrows.hs.html">Note [Arrow overview]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBackpack.hs.html">Note [Error reporting bad reexport]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBackpack.hs.html#note-blank-hsigs-for-all-requirements">Note [Blank hsigs for all requirements]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBackpack.hs.html#note-handling-never-exported-tythings-under-backpack">Note [Handling never-exported TyThings under Backpack]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html">Note [Polymorphic recursion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-implicit-parameter-untouchables">Note [Implicit parameter untouchables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-closed-binder-groups">Note [Closed binder groups]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-instantiate-sig-with-fresh-variables">Note [Instantiate sig with fresh variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-partial-type-signatures-and-generalisation">Note [Partial type signatures and generalisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-quantified-variables-in-partial-type-signatures">Note [Quantified variables in partial type signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-validity-of-inferred-types">Note [Validity of inferred types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-impedance-matching">Note [Impedance matching]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-specialise-pragmas">Note [SPECIALISE pragmas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcBinds.hs.html#note-typechecking-pattern-bindings">Note [Typechecking pattern bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html">Note [Canonicalization]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#top-level-canonicalization">Top-level canonicalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-the-superclass-story">Note [The superclass story]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-superclass-loops">Note [Superclass loops]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-eagerly-expand-given-superclasses">Note [Eagerly expand given superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-why-adding-superclasses-can-help">Note [Why adding superclasses can help]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-danger-of-adding-superclasses-during-solving">Note [Danger of adding superclasses during solving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-equality-superclasses-in-quantified-constraints">Note [Equality superclasses in quantified constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-quantified-constraints">Note [Quantified constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-solving-a-wanted-forall-constraint">Note [Solving a Wanted forall-constraint]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-solving-a-given-forall-constraint">Note [Solving a Given forall-constraint]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-canonicalising-equalities">Note [Canonicalising equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-funty-and-decomposing-tycon-applications">Note [FunTy and decomposing tycon applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-unsolved-equalities">Note [Unsolved equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-newtypes-can-blow-the-stack">Note [Newtypes can blow the stack]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-eager-reflexivity-check">Note [Eager reflexivity check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-use-caneqfailure-in-candecomposabletyconapp">Note [Use canEqFailure in canDecomposableTyConApp]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-decomposing-equality">Note [Decomposing equality]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-decomposing-newtypes-at-representational-role">Note [Decomposing newtypes at representational role]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-decomposing-tyconapps">Note [Decomposing TyConApps]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-canonicalising-type-applications">Note [Canonicalising type applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-make-sure-that-insolubles-are-fully-rewritten">Note [Make sure that insolubles are fully rewritten]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-do-not-decompose-given-polytype-equalities">Note [Do not decompose Given polytype equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-combining-insoluble-constraints">Note [Combining insoluble constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-no-top-level-newtypes-on-rhs-of-representational-equalities">Note [No top-level newtypes on RHS of representational equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-occurs-check-error">Note [Occurs check error]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-cancfuneqcan">Note [canCFunEqCan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-canonical-orientation-for-tyvar-tyvar-equality-constraints">Note [Canonical orientation for tyvar/tyvar equality constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-equalities-with-incompatible-kinds">Note [Equalities with incompatible kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-type-synonyms-and-canonicalization">Note [Type synonyms and canonicalization]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-rewriting-with-refl">Note [Rewriting with Refl]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcCanonical.hs.html#note-unifywanted-and-unifyderived">Note [unifyWanted and unifyDerived]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcClassDcl.hs.html">Note [Polymorphic methods]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcClassDcl.hs.html#note-silly-default-method-bind">Note [Silly default-method bind]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html">Note [Data decl contexts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-newtype-deriving">Note [Newtype deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-newtype-deriving-superclasses">Note [Newtype deriving superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-unused-constructors-and-deriving-clauses">Note [Unused constructors and deriving clauses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-newtype-deriving-and-unused-constructors">Note [Newtype deriving and unused constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-staging-of-tcderiving">Note [Staging of tcDeriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-why-we-don-t-pass-rep-tc-into-derivetydata">Note [Why we don't pass rep_tc into deriveTyData]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-avoid-rebindablesyntax-when-deriving">Note [Avoid RebindableSyntax when deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-flattening-deriving-clauses">Note [Flattening deriving clauses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-tc-args-and-tycon-arity">Note [tc_args and tycon arity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-unify-kinds-in-deriving">Note [Unify kinds in deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-unification-of-two-kind-variables-in-deriving">Note [Unification of two kind variables in deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-eta-reducing-type-synonyms">Note [Eta-reducing type synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-looking-up-family-instances-for-deriving">Note [Looking up family instances for deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-deriving-type-families-and-partial-applications">Note [Deriving, type families, and partial applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-recursive-newtypes">Note [Recursive newtypes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-determining-whether-newtype-deriving-is-appropriate">Note [Determining whether newtype-deriving is appropriate]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-gnd-and-associated-type-families">Note [GND and associated type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-bindings-for-generalised-newtype-deriving">Note [Bindings for Generalised Newtype Deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-deriveanyclass-and-default-family-instances">Note [DeriveAnyClass and default family instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-deriving-strategies">Note [Deriving strategies]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDeriv.hs.html#note-deriving-instances-for-classes-themselves">Note [Deriving instances for classes themselves]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html">Note [Inferring the instance context]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-getting-base-classes">Note [Getting base classes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-deriving-and-unboxed-types">Note [Deriving and unboxed types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-superclasses-of-derived-instance">Note [Superclasses of derived instance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-simplifying-the-instance-context">Note [Simplifying the instance context]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-deterministic-simplifyinstancecontexts">Note [Deterministic simplifyInstanceContexts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-overlap-and-deriving">Note [Overlap and deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-gathering-and-simplifying-constraints-for-deriveanyclass">Note [Gathering and simplifying constraints for DeriveAnyClass]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-error-reporting-for-deriving-clauses">Note [Error reporting for deriving clauses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#note-exotic-derived-instance-contexts">Note [Exotic derived instance contexts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivInfer.hs.html#the-bottom-line">The bottom line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivUtils.hs.html">Note [Deriving and unused record selectors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivUtils.hs.html#note-deriving-any-class">Note [Deriving any class]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcDerivUtils.hs.html#note-check-that-the-type-variable-is-truly-universal">Note [Check that the type variable is truly universal]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEnv.hs.html">Note [AFamDataCon: not promoting data family constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEnv.hs.html#note-don-t-promote-pattern-synonyms">Note [Don't promote pattern synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEnv.hs.html#note-extended-defaults">Note [Extended defaults]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEnv.hs.html#note-out-of-scope-might-be-a-staging-error">Note [Out of scope might be a staging error]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html">Note [Deferring coercion errors to runtime]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-suppressing-error-messages">Note [Suppressing error messages]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-redundant-constraints-in-instance-decls">Note [Redundant constraints in instance decls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-given-errors">Note [Given errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-always-warn-with-fdefer-type-errors">Note [Always warn with -fdefer-type-errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-deferred-errors-for-coercion-holes">Note [Deferred errors for coercion holes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-do-not-report-derived-but-soluble-errors">Note [Do not report derived but soluble errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-constraints-include">Note [Constraints include ...]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-outofscope-exact-matches">Note [OutOfScope exact matches]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-inaccessible-code">Note [Inaccessible code]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-error-messages-for-untouchables">Note [Error messages for untouchables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-suppress-redundant-givens-during-error-reporting">Note [Suppress redundant givens during error reporting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-insoluble-occurs-check-wins">Note [Insoluble occurs check wins]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-expanding-type-synonyms-to-make-types-similar">Note [Expanding type synonyms to make types similar]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-suggest-adding-a-type-signature">Note [Suggest adding a type signature]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-disambiguating-x-x-errors">Note [Disambiguating (X ~ X) errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-reporting-occurs-check-errors">Note [Reporting occurs-check errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-non-injective-type-functions">Note [Non-injective type functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-report-candidate-instances">Note [Report candidate instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-discardprovctxtgivens">Note [discardProvCtxtGivens]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-displaying-potential-instances">Note [Displaying potential instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-flattening-in-error-message-generation">Note [Flattening in error message generation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-kind-arguments-in-error-messages">Note [Kind arguments in error messages]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcErrors.hs.html#note-runtime-skolems">Note [Runtime skolems]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html">Note [TcCoercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html#note-coercion-evidence-only">Note [Coercion evidence only]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html#note-typeable-evidence-terms">Note [Typeable evidence terms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html#note-coercion-evidence-terms">Note [Coercion evidence terms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html#note-evbinds-evterm">Note [EvBinds/EvTerm]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html#note-overview-of-implicit-callstacks">Note [Overview of implicit CallStacks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcEvidence.hs.html#note-free-vars-of-evfun">Note [Free vars of EvFun]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html">Note [Type-checking overloaded labels]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-left-sections">Note [Left sections]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-typing-rule-for">Note [Typing rule for ($)]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-typing-rule-for-seq">Note [Typing rule for seq]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-type-of-a-record-update">Note [Type of a record update]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-implicit-type-sharing">Note [Implicit type sharing]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-criteria-for-update">Note [Criteria for update]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-data-family-example">Note [Data family example]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#outgoing-invariants">Outgoing invariants</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-mixed-record-field-updates">Note [Mixed Record Field Updates]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-visible-type-application-for-the-empty-list-constructor">Note [Visible type application for the empty list constructor]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-required-quantifiers-in-the-type-of-a-term">Note [Required quantifiers in the type of a term]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-visible-type-application-zonk">Note [Visible type application zonk]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-tcsynarg">Note [tcSynArg]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-push-result-type-in">Note [Push result type in]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-partial-expression-signatures">Note [Partial expression signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-adding-the-implicit-parameter-to-assert">Note [Adding the implicit parameter to 'assert']</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-tagtoenum">Note [tagToEnum#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-instantiating-stupid-theta">Note [Instantiating stupid theta]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-lifting-strings">Note [Lifting strings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#local-record-selectors">Local record selectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-disambiguating-record-fields">Note [Disambiguating record fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-splitting-nested-sigma-types-in-mismatched-function-types">Note [Splitting nested sigma types in mismatched function types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-finding-the-conflicting-fields">Note [Finding the conflicting fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-not-closed-error-messages">Note [Not-closed error messages]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcExpr.hs.html#note-checking-closedness">Note [Checking closedness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html">Note [The flattening story]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#why-given-fsks-alone-doesn-t-work">Why given-fsks, alone, doesn't work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#why-flatten-meta-vars-alone-doesn-t-work">Why flatten-meta-vars, alone doesn't work</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#why-is-it-right-to-treat-fmv-s-differently-to-ordinary-unification-vars">Why is it right to treat fmv's differently to ordinary unification vars?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-unflattening-can-force-the-solver-to-iterate">Note [Unflattening can force the solver to iterate]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-the-flattening-work-list">Note [The flattening work list]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flattener-eqrels">Note [Flattener EqRels]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flattener-ctloc">Note [Flattener CtLoc]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-lazy-flattening">Note [Lazy flattening]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-phantoms-in-the-flattener">Note [Phantoms in the flattener]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-no-derived-kind-equalities">Note [No derived kind equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flattening">Note [Flattening]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flatten-args-performance">Note [flatten_args performance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flatten-exact-fam-app-fully-performance">Note [flatten_exact_fam_app_fully performance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flattening-synonyms">Note [Flattening synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-flattening-under-a-forall">Note [Flattening under a forall]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-reduce-type-family-applications-eagerly">Note [Reduce type family applications eagerly]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-an-alternative-story-for-the-inert-substitution">Note [An alternative story for the inert substitution]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcFlatten.hs.html#note-unflatten-using-funeqs-first">Note [Unflatten using funeqs first]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcForeign.hs.html">Note [Don't recur in normaliseFfiType']</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcForeign.hs.html#note-ffi-type-roles">Note [FFI type roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcForeign.hs.html#note-newtype-constructor-usage-in-foreign-declarations">Note [Newtype constructor usage in foreign declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html">Note [Generating Ord instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-game-plan-for-deriving-ord">Note [Game plan for deriving Ord]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-use-expectp">Note [Use expectP]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-read-for-empty-data-types">Note [Read for empty data types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-newtype-deriving-instances">Note [Newtype-deriving instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-newtype-deriving-trickiness">Note [Newtype-deriving trickiness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-gnd-and-quantifiedconstraints">Note [GND and QuantifiedConstraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-gnd-and-ambiguity">Note [GND and ambiguity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenDeriv.hs.html#note-auxiliary-binders">Note [Auxiliary binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenFunctor.hs.html">Note [Deriving null]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenFunctor.hs.html#note-derivefoldable-with-existentialquantification">Note [DeriveFoldable with ExistentialQuantification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenFunctor.hs.html#note-ffoldtype-and-functorliketraverse">Note [FFoldType and functorLikeTraverse]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenFunctor.hs.html#note-generated-code-for-derivefoldable-and-derivetraversable">Note [Generated code for DeriveFoldable and DeriveTraversable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenFunctor.hs.html#note-phantom-types-with-functor-foldable-and-traversable">Note [Phantom types with Functor, Foldable, and Traversable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenFunctor.hs.html#note-emptydatadecls-with-functor-foldable-and-traversable">Note [EmptyDataDecls with Functor, Foldable, and Traversable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenGenerics.hs.html">Note [Requirements for deriving Generic and Rep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenGenerics.hs.html#note-degenerate-use-of-ffoldtype">Note [degenerate use of FFoldType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenGenerics.hs.html#note-generics-and-unlifted-types">Note [Generics and unlifted types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenGenerics.hs.html#note-generating-a-correctly-typed-rep-instance">Note [Generating a correctly typed Rep instance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenGenerics.hs.html#note-handling-kinds-in-a-rep-instance">Note [Handling kinds in a Rep instance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcGenGenerics.hs.html#note-generics-compilation-speed-tricks">Note [Generics compilation speed tricks]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHoleErrors.hs.html">Note [Valid hole fits include ...]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHoleErrors.hs.html#note-nested-implications">Note [Nested implications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHoleErrors.hs.html#note-valid-refinement-hole-fits-include">Note [Valid refinement hole fits include ...]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHoleErrors.hs.html#note-relevant-constraints">Note [Relevant Constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHoleErrors.hs.html#note-leaking-errors">Note [Leaking errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsSyn.hs.html">Note [The ZonkEnv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsSyn.hs.html#note-un-unified-unification-variables">Note [Un-unified unification variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsSyn.hs.html#note-skolems-in-zonksyntaxexpr">Note [Skolems in zonkSyntaxExpr]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsSyn.hs.html#note-optimise-coercion-zonking">Note [Optimise coercion zonking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsSyn.hs.html#note-sharing-when-zonking-to-type">Note [Sharing when zonking to Type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsSyn.hs.html#note-zonking-the-lhs-of-a-rule">Note [Zonking the LHS of a RULE]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html">Note [Wildcards in visible type application]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-dealing-with-kind">Note [Dealing with :kind]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-bidirectional-type-checking">Note [Bidirectional type checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-future-proofing-the-type-checker">Note [Future-proofing the type checker]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-wildcards-in-visible-kind-application">Note [Wildcards in visible kind application]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-the-purely-kinded-type-invariant-pkti">Note [The Purely Kinded Type Invariant (PKTI)]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-mkapptym">Note [mkAppTyM]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-saturatefamapp">Note [saturateFamApp]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-gadt-kind-self-reference">Note [GADT kind self-reference]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-body-kind-of-a-hsforallty">Note [Body kind of a HsForAllTy]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-body-kind-of-a-hsqualty">Note [Body kind of a HsQualTy]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-inferring-tuple-kinds">Note [Inferring tuple kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-desugaring-types">Note [Desugaring types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-kind-of-a-type-splice">Note [Kind of a type splice]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#help-functions-for-type-applications">Help functions for type applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-keeping-scoped-variables-in-order-explicit">Note [Keeping scoped variables in order: Explicit]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-keeping-scoped-variables-in-order-implicit">Note [Keeping scoped variables in order: Implicit]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-recipe-for-checking-a-signature">Note [Recipe for checking a signature]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-the-initial-kind-of-a-type-constructor">Note [The initial kind of a type constructor]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-no-polymorphic-recursion">Note [No polymorphic recursion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-kind-checking-tyvar-binders-for-associated-types">Note [Kind-checking tyvar binders for associated types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-kind-variable-ordering-for-associated-types">Note [Kind variable ordering for associated types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-levels-and-generalisation">Note [Levels and generalisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-kind-generalisation">Note [Kind generalisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-kinds-of-quantified-type-variables">Note [Kinds of quantified type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-tyconbinders-for-the-result-kind-signature-of-a-data-type">Note [TyConBinders for the result kind signature of a data type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-avoid-name-clashes-for-associated-data-types">Note [Avoid name clashes for associated data types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-extra-constraint-holes-in-partial-type-signatures">Note [Extra-constraint holes in partial type signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcHsType.hs.html#note-pattern-signature-binders">Note [Pattern signature binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html">Note [How instance declarations are translated]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-instances-and-loop-breakers">Note [Instances and loop breakers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-classop-dfun-selection">Note [ClassOp/DFun selection]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-single-method-classes">Note [Single-method classes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-subtle-interaction-of-recursion-and-overlap">Note [Subtle interaction of recursion and overlap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-tricky-type-variable-scoping">Note [Tricky type variable scoping]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-deriving-inside-th-brackets">Note [Deriving inside TH brackets]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-associated-type-instances">Note [Associated type instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-result-kind-signature-for-a-data-family-instance">Note [Result kind signature for a data family instance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-eta-reduction-for-data-families">Note [Eta-reduction for data families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-default-methods-in-the-type-environment">Note [Default methods in the type environment]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-typechecking-plan-for-instance-declarations">Note [Typechecking plan for instance declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-recursive-superclasses">Note [Recursive superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-solving-superclass-constraints">Note [Solving superclass constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-silent-superclass-arguments-historical-interest-only">Note [Silent superclass arguments] (historical interest only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-mismatched-class-methods-and-associated-type-families">Note [Mismatched class methods and associated type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-avoid-winaccessible-code-when-deriving">Note [Avoid -Winaccessible-code when deriving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-instance-method-signatures">Note [Instance method signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-export-helper-functions">Note [Export helper functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-default-methods-in-instances">Note [Default methods in instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-inline-and-default-methods">Note [INLINE and default methods]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInstDcls.hs.html#note-specialise-instance-pragmas">Note [SPECIALISE instance pragmas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html">Note [Basic Simplifier Plan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-unflatten-after-solving-the-simple-wanteds">Note [Unflatten after solving the simple wanteds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-running-plugins-on-unflattened-wanteds">Note [Running plugins on unflattened wanteds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-the-solvesimplewanteds-loop">Note [The solveSimpleWanteds loop]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-the-solver-invariant">Note [The Solver Invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-replacement-vs-keeping">Note [Replacement vs keeping]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-multiple-matching-irreds">Note [Multiple matching irreds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-solving-irreducible-equalities">Note [Solving irreducible equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-do-not-add-duplicate-derived-insolubles">Note [Do not add duplicate derived insolubles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-shortcut-solving">Note [Shortcut solving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#solving-fully">Solving fully</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-shortcut-solving-type-families">Note [Shortcut solving: type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-shortcut-solving-incoherence">Note [Shortcut solving: incoherence]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-shortcut-try-solve-from-instance">Note [Shortcut try_solve_from_instance]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-shadowing-of-implicit-parameters">Note [Shadowing of Implicit Parameters]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-type-inference-for-type-families-with-injectivity">Note [Type inference for type families with injectivity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-cache-caused-loops">Note [Cache-caused loops]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-efficient-orientation">Note [Efficient Orientation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-carefully-solve-the-right-cfuneqcan">Note [Carefully solve the right CFunEqCan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-avoid-double-unifications">Note [Avoid double unifications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-do-not-unify-representational-equalities">Note [Do not unify representational equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-fundep-and-implicit-parameter-reactions">Note [FunDep and implicit parameter reactions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-weird-fundeps">Note [Weird fundeps]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-looking-up-primitive-equalities-in-quantified-constraints">Note [Looking up primitive equalities in quantified constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-top-level-reductions-for-type-functions">Note [Top-level reductions for type functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-funeq-occurs-check-principle">Note [FunEq occurs-check principle]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-cached-solved-funeqs">Note [Cached solved FunEqs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-matching-synonyms">Note [MATCHING-SYNONYMS]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-improvement-orientation">Note [Improvement orientation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-no-funeq-improvement-for-givens">Note [No FunEq improvement for Givens]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-reduction-for-derived-cfuneqcans">Note [Reduction for Derived CFunEqCans]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-instances-in-no-evidence-implications">Note [Instances in no-evidence implications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-instance-and-given-overlap">Note [Instance and Given overlap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-naturally-coherent-classes">Note [Naturally coherent classes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcInteract.hs.html#note-local-instances-and-incoherence">Note [Local instances and incoherence]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html">Note [ExpType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-tclevel-of-exptype">Note [TcLevel of ExpType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-skolemising-type-variables">Note [Skolemising type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-kind-substitution-when-instantiating">Note [Kind substitution when instantiating]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-tyvartv">Note [TyVarTv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-name-of-an-instantiated-type-variable">Note [Name of an instantiated type variable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-unification-variables-need-fresh-names">Note [Unification variables need fresh Names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-level-check-when-unifying">Note [Level check when unifying]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-never-need-to-instantiate-coercion-variables">Note [Never need to instantiate coercion variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-dependent-type-variables">Note [Dependent type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-candidatesqtvs-determinism-and-order">Note [CandidatesQTvs determinism and order]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-naughty-quantification-candidates">Note [Naughty quantification candidates]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-order-of-accumulation">Note [Order of accumulation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-defaulting-with-xnopolykinds">Note [Defaulting with -XNoPolyKinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-what-is-a-meta-variable">Note [What is a meta variable?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-what-is-zonking">Note [What is zonking?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-zonking-to-skolem">Note [Zonking to Skolem]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-silly-type-synonyms">Note [Silly Type Synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-zonkct-behaviour">Note [zonkCt behaviour]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMType.hs.html#note-sharing-in-zonking">Note [Sharing in zonking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMatches.hs.html">Note [Polymorphic expected type for tcMatchesFun]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMatches.hs.html#note-case-branches-must-never-infer-a-non-tau-type">Note [Case branches must never infer a non-tau type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMatches.hs.html#note-treat-rebindable-syntax-first">Note [Treat rebindable syntax first]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcMatches.hs.html#note-applicativedo-and-constraints">Note [ApplicativeDo and constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html">Note [Subsumption check at pattern variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html#note-nesting">Note [Nesting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html#note-nplusk-patterns">Note [NPlusK patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html#note-hopping-the-lie-in-lazy-patterns">Note [Hopping the LIE in lazy patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html#note-matching-constructor-patterns">Note [Matching constructor patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html#note-arrows-and-patterns">Note [Arrows and patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPat.hs.html#note-existential-check">Note [Existential check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html">Note [Pattern synonym error recovery]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-remove-redundant-provided-dicts">Note [Remove redundant provided dicts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-equality-evidence-in-pattern-synonyms">Note [Equality evidence in pattern synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-coercions-that-escape">Note [Coercions that escape]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-the-pattern-synonym-signature-splitting-rule">Note [The pattern-synonym signature splitting rule]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-checking-against-a-pattern-signature">Note [Checking against a pattern signature]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-builder-for-a-bidirectional-pattern-synonym">Note [Builder for a bidirectional pattern synonym]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-redundant-constraints-for-builder">Note [Redundant constraints for builder]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-as-patterns-in-pattern-synonym-definitions">Note [As-patterns in pattern synonym definitions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcPatSyn.hs.html#note-type-signatures-and-the-builder-expression">Note [Type signatures and the builder expression]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html">Note [DFun impedance matching]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-dfun-knot-tying">Note [DFun knot-tying]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-root-main-id">Note [Root-main Id]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-initialising-the-type-environment-for-ghci">Note [Initialising the type environment for GHCi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-deferred-type-errors-in-ghci">Note [Deferred type errors in GHCi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-ghci-plans">Note [GHCi Plans]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-tcrnexprmode">Note [TcRnExprMode]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnDriver.hs.html#note-kind-generalise-in-tcrntype">Note [Kind-generalise in tcRnType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnExports.hs.html">Note [Exports of data families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnExports.hs.html#note-avails-of-associated-data-families">Note [Avails of associated data families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnMonad.hs.html">Note [Default types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnMonad.hs.html#note-constraints-and-errors">Note [Constraints and errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnMonad.hs.html#note-masking-exceptions-in-forkm-maybe">Note [Masking exceptions in forkM_maybe]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html">Note [Identity versus semantic module]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-constraints-in-static-forms">Note [Constraints in static forms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-tracking-unused-binding-and-imports">Note [Tracking unused binding and imports]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-the-global-env-local-env-story">Note [The Global-Env/Local-Env story]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-escaping-the-arrow-scope">Note [Escaping the arrow scope]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-meaning-of-idbindinginfo">Note [Meaning of IdBindingInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-bindings-with-closed-types-closedtypeid">Note [Bindings with closed types: ClosedTypeId]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-type-variables-in-the-type-environment">Note [Type variables in the type environment]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-complete-and-partial-type-signatures">Note [Complete and partial type signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-sig-inst-tau-may-be-polymorphic">Note [sig_inst_tau may be polymorphic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-wildcards-in-partial-signatures">Note [Wildcards in partial signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-hole-constraints">Note [Hole constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-cirredcan-constraints">Note [CIrredCan constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-ct-evidence-invariant">Note [Ct/evidence invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-ct-kind-invariant">Note [Ct kind invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-resetting-cc-pend-sc">Note [Resetting cc_pend_sc]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-dropping-derived-constraints">Note [Dropping derived constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-custom-type-errors-in-constraints">Note [Custom type errors in constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-when-superclasses-help">Note [When superclasses help]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-given-insolubles">Note [Given insolubles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-insoluble-holes">Note [Insoluble holes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-needed-evidence-variables">Note [Needed evidence variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-shadowing-in-a-constraint">Note [Shadowing in a constraint]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-skolems-in-an-implication">Note [Skolems in an implication]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-insoluble-constraints">Note [Insoluble constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-evidence-field-of-ctevidence">Note [Evidence field of CtEvidence]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-bind-new-givens-immediately">Note [Bind new Givens immediately]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-constraint-flavours">Note [Constraint flavours]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-eqcanrewrite">Note [eqCanRewrite]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-wanteds-do-not-rewrite-wanteds">Note [Wanteds do not rewrite Wanteds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-deriveds-do-rewrite-deriveds">Note [Deriveds do rewrite Deriveds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-funeqcandischarge">Note [funEqCanDischarge]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-eqcandischarge">Note [eqCanDischarge]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-subgoaldepth">Note [SubGoalDepth]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-skolem-info-for-pattern-synonyms">Note [Skolem info for pattern synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRnTypes.hs.html#note-sigskol-skoleminfo">Note [SigSkol SkolemInfo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html">Note [Typechecking rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html#note-tclevel-in-type-checking-rules">Note [TcLevel in type checking rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html#note-the-simplifyrule-plan">Note [The SimplifyRule Plan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html#note-solve-order-for-rules">Note [Solve order for RULES]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html#note-rule-quantification-over-equalities">Note [RULE quantification over equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html#note-quantifying-over-coercion-holes">Note [Quantifying over coercion holes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcRules.hs.html#note-simplify-cloned-constraints">Note [Simplify cloned constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html">Note [WorkList priorities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-prioritise-equalities">Note [Prioritise equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-prioritise-class-equalities">Note [Prioritise class equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-solved-dictionaries">Note [Solved dictionaries]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-do-not-add-superclasses-of-solved-dictionaries">Note [Do not add superclasses of solved dictionaries]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-example-of-recursive-dictionaries">Note [Example of recursive dictionaries]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-detailed-inertcans-invariants">Note [Detailed InertCans Invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-equalctlist-invariants">Note [EqualCtList invariants]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-type-family-equations">Note [Type family equations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-inert-eqs-the-inert-equalities">Note [inert_eqs: the inert equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-extending-the-inert-equalities">Note [Extending the inert equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-k3-completeness-of-solving">Note [K3: completeness of solving]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-flavours-with-roles">Note [Flavours with roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-lookupflattentyvar">Note [lookupFlattenTyVar]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-do-not-add-duplicate-quantified-instances">Note [Do not add duplicate quantified instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-kickoutrewritable">Note [kickOutRewritable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-rewrite-insolubles">Note [Rewrite insolubles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-unsolved-derived-equalities">Note [Unsolved Derived equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-when-does-an-implication-have-given-equalities">Note [When does an implication have given equalities?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-let-bound-skolems">Note [Let-bound skolems]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-tuples-hiding-implicit-parameters">Note [Tuples hiding implicit parameters]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-solving-callstack-constraints">Note [Solving CallStack constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-the-tcs-monad">Note [The TcS monad]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-do-not-inherit-the-flat-cache">Note [Do not inherit the flat cache]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-propagate-the-solved-dictionaries">Note [Propagate the solved dictionaries]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSMonad.hs.html#note-residual-implications">Note [Residual implications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSigs.hs.html">Note [Scoped tyvars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSigs.hs.html#note-binding-scoped-type-variables">Note [Binding scoped type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSigs.hs.html#note-fail-eagerly-on-bad-signatures">Note [Fail eagerly on bad signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSigs.hs.html#note-pattern-bindings-and-complete-signatures">Note [Pattern bindings and complete signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html">Note [Fail fast if there are insoluble kind equalities]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-fail-fast-on-kind-errors">Note [Fail fast on kind errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-when-to-do-type-class-defaulting">Note [When to do type-class defaulting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-must-simplify-after-defaulting">Note [Must simplify after defaulting]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-top-level-defaulting-plan">Note [Top-level Defaulting Plan]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-safe-haskell-overlapping-instances">Note [Safe Haskell Overlapping Instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-safe-haskell-overlapping-instances-implementation">Note [Safe Haskell Overlapping Instances Implementation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-no-defaulting-in-the-ambiguity-check">Note [No defaulting in the ambiguity check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-superclasses-and-satisfiability">Note [Superclasses and satisfiability]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-tcnormalise">Note [tcNormalise]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-inferring-the-type-of-a-let-bound-variable">Note [Inferring the type of a let-bound variable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-emitting-the-residual-implication-in-simplifyinfer">Note [Emitting the residual implication in simplifyInfer]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-add-signature-contexts-as-givens">Note [Add signature contexts as givens]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-deciding-quantification">Note [Deciding quantification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-promote-momomorphic-tyvars">Note [Promote momomorphic tyvars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-quantification-and-partial-signatures">Note [Quantification and partial signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-growing-the-tau-tvs-using-constraints">Note [Growing the tau-tvs using constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-quantification-with-errors">Note [Quantification with errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-default-while-inferring">Note [Default while Inferring]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-minimize-by-superclasses">Note [Minimize by Superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-avoid-unnecessary-constraint-simplification">Note [Avoid unnecessary constraint simplification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-delete-dead-given-evidence-bindings">Note [Delete dead Given evidence bindings]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-tracking-redundant-constraints">Note [Tracking redundant constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-cutting-off-simpl-loop">Note [Cutting off simpl_loop]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-approximatewc">Note [ApproximateWC]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-defaulttyvar">Note [DefaultTyVar]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-promote-and-default-when-inferring">Note [Promote _and_ default when inferring]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-promoting-unification-variables">Note [Promoting unification variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-float-equalities-out-of-implications">Note [Float Equalities out of Implications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-float-equalities-from-under-a-skolem-binding">Note [Float equalities from under a skolem binding]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-which-equalities-to-float">Note [Which equalities to float]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-skolem-escape">Note [Skolem escape]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-what-prevents-a-constraint-from-floating">Note [What prevents a constraint from floating]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-avoiding-spurious-errors">Note [Avoiding spurious errors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSimplify.hs.html#note-multi-parameter-defaults">Note [Multi-parameter defaults]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html">Note [How top-level splices are handled]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-how-brackets-and-nested-splices-are-handled">Note [How brackets and nested splices are handled]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-template-haskell-state-diagram">Note [Template Haskell state diagram]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-template-haskell-levels">Note [Template Haskell levels]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-running-typed-splices-in-the-zonker">Note [Running typed splices in the zonker]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-exceptions-in-th">Note [Exceptions in TH]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-concealed-th-exceptions">Note [Concealed TH exceptions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-freshen-reified-gadt-constructors-universal-tyvars">Note [Freshen reified GADT constructors' universal tyvars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcSplice.hs.html#note-reifying-field-labels">Note [Reifying field labels]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html">Note [Grouping of type and class declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-check-role-annotations-in-a-second-pass">Note [Check role annotations in a second pass]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-kind-checking-for-type-and-class-decls">Note [Kind checking for type and class decls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-skip-decls-with-cusks-in-kcltycldecl">Note [Skip decls with CUSKs in kcLTyClDecl]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#open-type-families">Open type families</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-how-tctycons-work">Note [How TcTyCons work]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-type-environment-evolution">Note [Type environment evolution]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-missed-opportunity-to-retain-higher-rank-kinds">Note [Missed opportunity to retain higher-rank kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-don-t-process-associated-types-in-kclhsqtyvars">Note [Don't process associated types in kcLHsQTyVars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-required-specified-and-inferred-for-types">Note [Required, Specified, and Inferred for types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#associated-types">Associated types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#how-it-works">How it works</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#design-alternatives">Design alternatives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#test-cases-and-tickets-relevant-to-these-design-decisions">Test cases (and tickets) relevant to these design decisions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-inferring-kinds-for-type-declarations">Note [Inferring kinds for type declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-tricky-scoping-in-generalisetctycon">Note [Tricky scoping in generaliseTcTyCon]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-recursion-and-promoting-data-constructors">Note [Recursion and promoting data constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-kind-checking-for-gadts">Note [Kind-checking for GADTs]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-type-checking-recursive-type-and-class-declarations">Note [Type checking recursive type and class declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-kind-checking-recursive-type-and-class-declarations">Note [Kind checking recursive type and class declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-declarations-for-wired-in-things">Note [Declarations for wired-in things]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-associated-type-defaults">Note [Associated type defaults]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-type-checking-default-assoc-decls">Note [Type-checking default assoc decls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-instantiating-a-family-tycon">Note [Instantiating a family tycon]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-generalising-in-tcfamtypatsguts">Note [Generalising in tcFamTyPatsGuts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-constraints-in-patterns">Note [Constraints in patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-quantifying-over-family-patterns">Note [Quantifying over family patterns]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-quantified-kind-variables-of-a-family-pattern">Note [Quantified kind variables of a family pattern]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-infix-gadt-constructors">Note [Infix GADT constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-checking-gadt-return-types">Note [Checking GADT return types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-mkgadtvars">Note [mkGADTVars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-substitution-in-template-variables-kinds">Note [Substitution in template variables kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-recover-from-validity-error">Note [Recover from validity error]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-class-method-constraints">Note [Class method constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-abort-when-superclass-cycle-is-detected">Note [Abort when superclass cycle is detected]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-default-method-type-signatures-must-align">Note [Default method type signatures must align]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-splitting-nested-sigma-types-in-class-type-signatures">Note [Splitting nested sigma types in class type signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyClsDecls.hs.html#note-checking-partial-record-field">Note [Checking partial record field]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html">Note [Superclass cycle check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-role-inference">Note [Role inference]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-role-checking-data-constructor-arguments">Note [Role-checking data constructor arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-coercions-in-role-inference">Note [Coercions in role inference]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-default-roles-for-abstract-tycons-in-hs-boot-hsig">Note [Default roles for abstract TyCons in hs-boot/hsig]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-default-method-ids-and-template-haskell">Note [Default method Ids and Template Haskell]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-polymorphic-selectors">Note [Polymorphic selectors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-naughty-record-selectors">Note [Naughty record selectors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-gadt-record-selectors">Note [GADT record selectors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTyDecls.hs.html#note-selector-running-example">Note [Selector running example]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html">Note [TcTyVars and TyVars in the typechecker]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-coercion-variables-in-free-variable-lists">Note [Coercion variables in free variable lists]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-tcrhotype">Note [TcRhoType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-signature-skolems">Note [Signature skolems]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-tyvars-and-tctyvars-during-type-checking">Note [TyVars and TcTyVars during type checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-tclevel-and-untouchable-type-variables">Note [TcLevel and untouchable type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-wantedinv">Note [WantedInv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-skolem-escape-prevention">Note [Skolem escape prevention]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-tclevel-assignment">Note [TcLevel assignment]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-silly-type-synonym">Note [Silly type synonym]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-anyrewritabletyvar-must-be-role-aware">Note [anyRewritableTyVar must be role-aware]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-expanding-superclasses">Note [Expanding superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-lift-equality-constaints-when-quantifying">Note [Lift equality constaints when quantifying]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-quantifying-over-equality-constraints">Note [Quantifying over equality constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-inheriting-implicit-parameters">Note [Inheriting implicit parameters]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#id1">Note [Quantifying over equality constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-appty-and-repreq">Note [AppTy and ReprEq]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-visible-type-application">Note [Visible type application]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-foreign-import-dynamic">Note [Foreign import dynamic]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-marshalling-void">Note [Marshalling void]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcType.hs.html#note-paterson-conditions-on-predtypes">Note [Paterson conditions on PredTypes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTypeNats.hs.html">Note [Type-level literals]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTypeNats.hs.html#note-adding-built-in-type-families">Note [Adding built-in type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTypeNats.hs.html#note-weakened-interaction-rule-for-subtraction">Note [Weakened interaction rule for subtraction]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTypeable.hs.html">Note [Grand plan for Typeable]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcTypeable.hs.html#note-representing-tycon-kinds-kindrep">Note [Representing TyCon kinds: KindRep]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html">Note [Herald for matchExpectedFunTys]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-matchexpectedfuntys">Note [matchExpectedFunTys]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-subsumption-checking-tcsubtype">Note [Subsumption checking: tcSubType]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#wrinkle-1-note-deep-skolemisation">Wrinkle 1: Note [Deep skolemisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#wrinkle-2-note-co-contra-variance-of-subsumption-checking">Wrinkle 2: Note [Co/contra-variance of subsumption checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#wrinkle-3-note-higher-rank-types">Wrinkle 3: Note [Higher rank types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-don-t-skolemise-unnecessarily">Note [Don't skolemise unnecessarily]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-settting-the-argument-context">Note [Settting the argument context]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-deep-instantiation-of-inferresult">Note [Deep instantiation of InferResult]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-promoting-a-type">Note [Promoting a type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-promotion-and-higher-rank-types">Note [Promotion and higher rank types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-when-to-build-an-implication">Note [When to build an implication]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-check-for-equality-before-deferring">Note [Check for equality before deferring]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-care-with-type-applications">Note [Care with type applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-mismatched-type-lists-and-application-decomposition">Note [Mismatched type lists and application decomposition]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-expanding-synonyms-during-unification">Note [Expanding synonyms during unification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-deferred-unification">Note [Deferred Unification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-tyvar-tyvar-orientation">Note [TyVar/TyVar orientation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-deeper-level-on-the-left">Note [Deeper level on the left]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-fmv-orientation-invariant">Note [Fmv Orientation Invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-eliminate-flat-skols">Note [Eliminate flat-skols]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-avoid-unnecessary-swaps">Note [Avoid unnecessary swaps]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-eliminate-younger-unification-variables">Note [Eliminate younger unification variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-prevent-unification-with-type-families">Note [Prevent unification with type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-refactoring-hazard-checktautvupdate">Note [Refactoring hazard: checkTauTvUpdate]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-type-synonyms-and-the-occur-check">Note [Type synonyms and the occur check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-non-tctyvars-in-tcunify">Note [Non-TcTyVars in TcUnify]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-unifying-untouchables">Note [Unifying untouchables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-occurrence-checking-look-inside-kinds">Note [Occurrence checking: look inside kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcUnify.hs.html#note-checking-for-foralls">Note [Checking for foralls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html">Note [The ambiguity check for type signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-when-to-call-checkambiguity">Note [When to call checkAmbiguity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-implicit-parameters-and-ambiguity">Note [Implicit parameters and ambiguity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-when-we-don-t-check-for-ambiguity">Note [When we don't check for ambiguity]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-higher-rank-types">Note [Higher rank types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-correctness-and-performance-of-type-synonym-validity-checking">Note [Correctness and performance of type synonym validity checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-unsaturated-type-synonyms-in-ghci">Note [Unsaturated type synonyms in GHCi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-type-variables-escaping-through-kinds">Note [Type variables escaping through kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-liberal-type-synonyms">Note [Liberal type synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-implicit-parameters-in-instance-decls">Note [Implicit parameters in instance decls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-validity-checking-for-constraints">Note [Validity checking for constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-constraintkinds-in-predicates">Note [ConstraintKinds in predicates]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-irreducible-predicates-in-superclasses">Note [Irreducible predicates in superclasses]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-simplifiable-given-constraints">Note [Simplifiable given constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-kind-polymorphic-type-classes">Note [Kind polymorphic type classes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-instances-of-built-in-classes-in-signature-files">Note [Instances of built-in classes in signature files]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-casts-during-validity-checking">Note [Casts during validity checking]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-validity-checking-of-hasfield-instances">Note [Validity checking of HasField instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-valid-deriving-predicate">Note [Valid 'deriving' predicate]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-equality-class-instances">Note [Equality class instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-instances-and-constraint-synonyms">Note [Instances and constraint synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-paterson-conditions">Note [Paterson conditions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-type-families-in-instance-contexts">Note [Type families in instance contexts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-invisible-arguments-and-termination">Note [Invisible arguments and termination]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-check-type-family-instance-binders">Note [Check type-family instance binders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-matching-in-the-consistent-instantation-check">Note [Matching in the consistent-instantation check]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-checking-consistent-instantiation">Note [Checking consistent instantiation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-printing-conflicts-with-class-header">Note [Printing conflicts with class header]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-unused-explicitly-bound-variables-in-a-family-pattern">Note [Unused explicitly bound variables in a family pattern]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-oversaturated-type-family-equations">Note [Oversaturated type family equations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-bad-tycon-telescopes">Note [Bad TyCon telescopes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../typecheck/TcValidity.hs.html#note-ambiguous-kind-vars">Note [Ambiguous kind vars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Class.hs.html">Note [Associated type defaults]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Class.hs.html#note-associated-type-tyvar-names">Note [Associated type tyvar names]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html">Note [Coercion axiom branches]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-branched-axioms">Note [Branched axioms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-storing-compatibility">Note [Storing compatibility]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-coaxiom-saturation">Note [CoAxiom saturation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-coaxbranch-type-variables">Note [CoAxBranch type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-coaxbranch-roles">Note [CoAxBranch roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-coaxiom-locations">Note [CoAxiom locations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-implicit-axioms">Note [Implicit axioms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="CoAxiom.hs.html#note-eta-reduction-for-data-families">Note [Eta reduction for data families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html">Note [Function coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-pushing-a-coercion-into-a-pi-type">Note [Pushing a coercion into a pi-type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-role-twiddling-functions">Note [Role twiddling functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-mkcovarco">Note [mkCoVarCo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-lifting-coercions-over-types-liftcosubst">Note [Lifting coercions over types: liftCoSubst]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-extendliftingcontextex">Note [extendLiftingContextEx]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-liftcosubsttyvar">Note [liftCoSubstTyVar]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-nested-forallcos">Note [Nested ForAllCos]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-nested-instcos">Note [Nested InstCos]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-simplifyargsworker">Note [simplifyArgsWorker]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Coercion.hs.html#note-last-case-in-simplifyargsworker">Note [Last case in simplifyArgsWorker]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html">Note [FamInsts and CoAxioms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-arity-of-data-families">Note [Arity of data families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-lazy-axiom-match">Note [Lazy axiom match]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-faminstenv">Note [FamInstEnv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-varying-number-of-patterns-for-data-family-axioms">Note [Varying number of patterns for data family axioms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-faminstenv-determinism">Note [FamInstEnv determinism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-apartness">Note [Apartness]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-compatibility">Note [Compatibility]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-compatibility-of-eta-reduced-axioms">Note [Compatibility of eta-reduced axioms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-tidy-axioms-when-we-build-them">Note [Tidy axioms when we build them]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-always-number-wildcard-types-in-coaxbranch">Note [Always number wildcard types in CoAxBranch]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-verifying-injectivity-annotation">Note [Verifying injectivity annotation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-family-instance-overlap-conflicts">Note [Family instance overlap conflicts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-over-saturated-matches">Note [Over-saturated matches]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-normalising-types">Note [Normalising types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-normalisation-and-type-synonyms">Note [Normalisation and type synonyms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="FamInstEnv.hs.html#note-flattening">Note [Flattening]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html">Note [ClsInst laziness and the rough-match fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-template-tyvars-are-fresh">Note [Template tyvars are fresh]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-proper-match-fields">Note [Proper-match fields]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-haddock-assumptions">Note [Haddock assumptions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-when-exactly-is-an-instance-decl-an-orphan">Note [When exactly is an instance decl an orphan?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-instenv-determinism">Note [InstEnv determinism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-instance-lookup-and-orphan-instances">Note [Instance lookup and orphan instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-rules-for-instance-lookup">Note [Rules for instance lookup]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-overlapping-instances-nb-these-notes-are-quite-old">Note [Overlapping instances]   (NB: these notes are quite old)</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-dfuninsttype-instantiating-types">Note [DFunInstType: instantiating types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-incoherent-instances">Note [Incoherent instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="InstEnv.hs.html#note-binding-when-looking-up-instances">Note [Binding when looking up instances]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Kind.hs.html">Note [Kind Constraint and kind Type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html">Note [Optimising coercion optimisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html#note-optimising-instco">Note [Optimising InstCo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html#note-optimise-covarco-to-refl">Note [Optimise CoVarCo to Refl]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html#note-conflict-checking-with-axiominstco">Note [Conflict checking with AxiomInstCo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html#note-why-call-checkaxinstco-during-optimisation">Note [Why call checkAxInstCo during optimisation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html#note-etaappco">Note [EtaAppCo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="OptCoercion.hs.html#note-eta-for-appco">Note [Eta for AppCo]</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Note [The Type-related module hierarchy]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-atycon-for-classes">Note [ATyCon for classes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-function-types">Note [Function types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-types-for-coercions-predicates-and-evidence">Note [Types for coercions, predicates, and evidence]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-constraints-in-kinds">Note [Constraints in kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-arguments-to-type-constructors">Note [Arguments to type constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-non-trivial-definitional-equality">Note [Non-trivial definitional equality]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-respecting-definitional-equality">Note [Respecting definitional equality]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-unused-coercion-variable-in-forallty">Note [Unused coercion variable in ForAllTy]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-tycobinders">Note [TyCoBinders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-varbndrs-tycovarbinders-tyconbinders-and-visibility">Note [VarBndrs, TyCoVarBinders, TyConBinders, and visibility]</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#this-table-summarises-the-visibility-rules">This table summarises the visibility rules:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#note-no-required-tycobinder-in-terms">Note [No Required TyCoBinder in terms]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-refl-invariant">Note [Refl invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-generalized-reflexive-coercion">Note [Generalized reflexive coercion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-coercion-axioms-applied-to-coercions">Note [Coercion axioms applied to coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-coaxiom-index">Note [CoAxiom index]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-forall-coercions">Note [Forall coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-predicate-coercions">Note [Predicate coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-roles">Note [Roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-tyconappco-roles">Note [TyConAppCo roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-nthco-and-newtypes">Note [NthCo and newtypes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-nthco-cached-roles">Note [NthCo Cached Roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-instco-roles">Note [InstCo roles]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-phantom-coercions">Note [Phantom coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-coercion-holes">Note [Coercion holes]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-coercionholes-and-coercion-free-variables">Note [CoercionHoles and coercion free variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-proofirrelprov">Note [ProofIrrelProv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-free-variables-of-types">Note [Free variables of types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-closing-over-free-variable-kinds">Note [Closing over free variable kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-covarsofx-and-the-interestingvarfun">Note [CoVarsOfX and the InterestingVarFun]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-when-does-a-tycon-application-need-an-explicit-kind-signature">Note [When does a tycon application need an explicit kind signature?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-the-substitution-invariant">Note [The substitution invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-substitutions-apply-only-once">Note [Substitutions apply only once]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-extending-the-tvsubstenv">Note [Extending the TvSubstEnv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-substituting-types-and-coercions">Note [Substituting types and coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-sym-and-forallco">Note [Sym and ForAllCo]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-substituting-in-a-coercion-hole">Note [Substituting in a coercion hole]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-when-to-print-foralls">Note [When to print foralls]</a></li>
<li class="toctree-l1"><a class="reference internal" href="#note-infix-type-variables">Note [Infix type variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html">Note [Type synonym families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-data-type-families">Note [Data type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-associated-families-and-their-parent-class">Note [Associated families and their parent class]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-tycon-role-signatures">Note [TyCon Role signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-unboxed-tuple-runtimerep-vars">Note [Unboxed tuple RuntimeRep vars]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-injective-type-families">Note [Injective type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-anontcb-inivsarg">Note [AnonTCB InivsArg]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-building-tyvarbinders-from-tyconbinders">Note [Building TyVarBinders from TyConBinders]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-the-binders-kind-arity-fields-of-a-tycon">Note [The binders/kind/arity fields of a TyCon]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-closed-type-families">Note [Closed type families]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-promoted-data-constructors">Note [Promoted data constructors]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-enumeration-types">Note [Enumeration types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-newtype-coercions">Note [Newtype coercions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-newtype-eta">Note [Newtype eta]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-product-types">Note [Product types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-constructor-tag-allocation">Note [Constructor tag allocation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-expanding-newtypes-and-products">Note [Expanding newtypes and products]</a></li>
<li class="toctree-l1"><a class="reference internal" href="TyCon.hs.html#note-skolem-abstract-data">Note [Skolem abstract data]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html">Note [coreView vs tcView]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-efficiency-for-mapcoercion-forallco-case">Note [Efficiency for mapCoercion ForAllCo case]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-specialising-mappers">Note [Specialising mappers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-decomposing-fat-arrow-c-t">Note [Decomposing fat arrow c=&gt;t]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-representation-of-function-types">Note [Representation of function types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-care-with-kind-instantiation">Note [Care with kind instantiation]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-mklamtype-dictionary-arguments">Note [mkLamType: dictionary arguments]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-evidence-for-quantified-constraints">Note [Evidence for quantified constraints]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-dictionary-like-types">Note [Dictionary-like types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-scopedsort">Note [ScopedSort]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-excess-polymorphism-and-join-points">Note [Excess polymorphism and join points]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-equality-on-apptys">Note [Equality on AppTys]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-nondetcmptype-nondeterminism">Note [nonDetCmpType nondeterminism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-typekind-vs-tctypekind">Note [typeKind vs tcTypeKind]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-kinding-rules-for-types">Note [Kinding rules for types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-phantom-type-variables-in-kinds">Note [Phantom type variables in kinds]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Type.hs.html#note-occurs-check-expansion">Note [Occurs check expansion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html">Note [tcMatchTy vs tcMatchTyKi]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-pruning-dead-case-alternatives">Note [Pruning dead case alternatives]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-fine-grained-unification">Note [Fine-grained unification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-the-substitution-in-maybeapart">Note [The substitution in MaybeApart]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-unifying-with-skolems">Note [Unifying with skolems]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-non-idempotent-substitution">Note [Non-idempotent substitution]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-finding-the-substitution-fixpoint">Note [Finding the substitution fixpoint]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-specification-of-unification">Note [Specification of unification]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-self-substitution-when-matching">Note [Self-substitution when matching]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-matching-coercion-variables">Note [Matching coercion variables]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-kind-coercions-in-unify">Note [Kind coercions in Unify]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-matching-in-the-presence-of-casts">Note [Matching in the presence of casts]</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unify.hs.html#note-polykinded-tycon-applications">Note [Polykinded tycon applications]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/BooleanFormula.hs.html">Note [Simplification of BooleanFormulas]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/Digraph.hs.html">Note [Nodes, keys, vertices]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/Digraph.hs.html#note-reducenodesintovertices-implementations">Note [reduceNodesIntoVertices implementations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/Digraph.hs.html#note-deterministic-scc">Note [Deterministic SCC]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/Encoding.hs.html">Note [Base 62 encoding 128-bit integers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/FV.hs.html">Note [Deterministic FV]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/FV.hs.html#note-fv-naming-conventions">Note [FV naming conventions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/FV.hs.html#note-fv-eta-expansion">Note [FV eta expansion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/GhcPrelude.hs.html">Note [Why do we import Prelude here?]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/MonadUtils.hs.html">Note [Inline &#64;zipWithNM&#64; functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/MonadUtils.hs.html#note-inline-mapandunzipnm-functions">Note [Inline &#64;mapAndUnzipNM&#64; functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/TrieMap.hs.html">Note [foldTM determinism]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/TrieMap.hs.html#note-compressed-triemap">Note [Compressed TrieMap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/UniqDFM.hs.html">Note [Deterministic UniqFM]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/UniqDFM.hs.html#note-overflow-on-plusudfm">Note [Overflow on plusUDFM]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utils/UniqSet.hs.html">Note [UniqSet invariant]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Control/Monad.hs.html">Note [Worker/wrapper transform on replicateM/replicateM_]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/Bits.hs.html">Note [toIntegralSized optimization]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/Foldable.hs.html">Note [List fusion and continuations in 'c']</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/Foldable.hs.html#note-maximumby-minimumby-space-usage">Note [maximumBy/minimumBy space usage]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/Functor/Utils.hs.html">Note [Function coercion]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/OldList.hs.html">Note [Inline &#64;unzipN&#64; functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/String.hs.html">Note [IsString String]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Data/Traversable.hs.html">Note [Inline default methods]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Foreign/Marshal/Alloc.hs.html">Note [NOINLINE for touch#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/Foreign/Ptr.hs.html">Note [Exporting constructors of marshallable foreign types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Arr.hs.html">Note [Inlining index]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Arr.hs.html#note-double-bounds-checking-of-index-values">Note [Double bounds-checking of index values]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Arr.hs.html#note-out-of-bounds-error-messages">Note [Out-of-bounds error messages]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Arr.hs.html#note-amap">Note [amap]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Base.hs.html">Note [Depend on GHC.Integer]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Base.hs.html#note-depend-on-ghc-tuple">Note [Depend on GHC.Tuple]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Base.hs.html#note-depend-on-ghc-natural">Note [Depend on GHC.Natural]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Base.hs.html#note-recursive-bindings-for-applicative-monad">Note [Recursive bindings for Applicative/Monad]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Base.hs.html#note-the-rules-for-map">Note [The rules for map]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Enum.hs.html">Note [How the Enum rules work]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Err.hs.html">Note [Errors in base]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Float.hs.html">Note [realToFrac int-to-float]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Float.hs.html#note-casting-from-integral-to-floating-point-types">Note [Casting from integral to floating point types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/IO/Encoding/Failure.hs.html">Note [Roundtripping]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/IO/Unsafe.hs.html">Note [unsafeDupableInterleaveIO should not be inlined]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/IORef.hs.html">Note [atomicModifyIORef' definition]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Int.hs.html">Note [Order of tests]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/List.hs.html">Note [Inline FB functions]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/List.hs.html#note-scanl-rewrite-rules">Note [scanl rewrite rules]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/List.hs.html#note-fusion-for-foldrn">Note [Fusion for foldrN]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/List.hs.html#note-fusion-for-zipn-zipwithn">Note [Fusion for zipN/zipWithN]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Real.hs.html">Note [Numeric Stability of Enumerating Floating Numbers]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Real.hs.html#see-15081-and-phab-d4650-for-the-related-discussion-about-this-problem">See #15081 and Phab:D4650 for the related discussion about this problem.</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/Stack/Types.hs.html">Note [Definition of CallStack]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/TopHandler.hs.html">Note [rts_setMainThread must be called unsafely]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/TopHandler.hs.html#note-rts-setmainthread-has-an-unsound-type">Note [rts_setMainThread has an unsound type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/base/GHC/TopHandler.hs.html#note-disaster-with-iconv">Note [Disaster with iconv]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/ghc-prim/GHC/CString.hs.html">Note [Inlining unpackCString#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/ghc-prim/GHC/Types.hs.html">Note [Kind-changing of (~) and Coercible]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/ghc-prim/GHC/Types.hs.html#note-optimizing-istrue">Note [Optimizing isTrue#]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/ghc-prim/GHC/Types.hs.html#note-runtime-representation-of-modules-and-tycons">Note [Runtime representation of modules and tycons]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Ppr.hs.html">Note [Pretty-printing kind signatures]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Syntax.hs.html">Note [Role of TExp]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Syntax.hs.html#note-name-lookup">Note [Name lookup]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Syntax.hs.html#note-data-for-non-algebraic-types">Note [Data for non-algebraic types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Syntax.hs.html#note-unresolved-infix">Note [Unresolved infix]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Syntax.hs.html#note-gadt-return-type">Note [GADT return type]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/template-haskell/Language/Haskell/TH/Syntax.hs.html#note-representing-concrete-syntax-in-types">Note [Representing concrete syntax in types]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/genprimopcode/Main.hs.html">Note [Placeholder declarations]</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../utils/ghc-pkg/Main.hs.html">Note [Recompute abi-depends]</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="OptCoercion.hs.html" title="前の章へ">Note [Optimising coercion optimisation]</a></li>
      <li>Next: <a href="TyCoRep.hs-boot.html" title="次の章へ">&lt;no title&gt;</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="検索" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, ghc.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../../_sources/notes/compiler/types/TyCoRep.hs.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>